(()=>{"use strict";var t={372:t=>{function e(t){return"function"==typeof t}var n=console.error.bind(console);function r(t,e,n){var r=!!t[e]&&t.propertyIsEnumerable(e);Object.defineProperty(t,e,{configurable:!0,enumerable:r,writable:!0,value:n})}function o(t){t&&t.logger&&(e(t.logger)?n=t.logger:n("new logger isn't a function, not replacing"))}function i(t,o,i){if(t&&t[o]){if(!i)return n("no wrapper function"),void n((new Error).stack);if(e(t[o])&&e(i)){var a=t[o],s=i(a,o);return r(s,"__original",a),r(s,"__unwrap",(function(){t[o]===s&&r(t,o,a)})),r(s,"__wrapped",!0),r(t,o,s),s}n("original object and wrapper must be functions")}else n("no original function "+o+" to wrap")}function a(t,e){return t&&t[e]?t[e].__unwrap?t[e].__unwrap():void n("no original to unwrap to -- has "+e+" already been unwrapped?"):(n("no function to unwrap."),void n((new Error).stack))}o.wrap=i,o.massWrap=function(t,e,r){if(!t)return n("must provide one or more modules to patch"),void n((new Error).stack);Array.isArray(t)||(t=[t]),e&&Array.isArray(e)?t.forEach((function(t){e.forEach((function(e){i(t,e,r)}))})):n("must provide one or more functions to wrap on modules")},o.unwrap=a,o.massUnwrap=function(t,e){if(!t)return n("must provide one or more modules to patch"),void n((new Error).stack);Array.isArray(t)||(t=[t]),e&&Array.isArray(e)?t.forEach((function(t){e.forEach((function(e){a(t,e)}))})):n("must provide one or more functions to unwrap on modules")},t.exports=o},37:(t,e,n)=>{!function(t){const e=t.performance;function n(t){e&&e.mark&&e.mark(t)}function r(t,n){e&&e.measure&&e.measure(t,n)}n("Zone");const o=t.__Zone_symbol_prefix||"__zone_symbol__";function i(t){return o+t}const a=!0===t[i("forceDuplicateZoneCheck")];if(t.Zone){if(a||"function"!=typeof t.Zone.__symbol__)throw new Error("Zone already loaded.");return t.Zone}class s{constructor(t,e){this._parent=t,this._name=e?e.name||"unnamed":"<root>",this._properties=e&&e.properties||{},this._zoneDelegate=new u(this,this._parent&&this._parent._zoneDelegate,e)}static assertZonePatched(){if(t.Promise!==L.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let t=s.current;for(;t.parent;)t=t.parent;return t}static get current(){return N.zone}static get currentTask(){return R}static __load_patch(e,o,i=!1){if(L.hasOwnProperty(e)){if(!i&&a)throw Error("Already loaded patch: "+e)}else if(!t["__Zone_disable_"+e]){const i="Zone:"+e;n(i),L[e]=o(t,s,A),r(i,i)}}get parent(){return this._parent}get name(){return this._name}get(t){const e=this.getZoneWith(t);if(e)return e._properties[t]}getZoneWith(t){let e=this;for(;e;){if(e._properties.hasOwnProperty(t))return e;e=e._parent}return null}fork(t){if(!t)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,t)}wrap(t,e){if("function"!=typeof t)throw new Error("Expecting function got: "+t);const n=this._zoneDelegate.intercept(this,t,e),r=this;return function(){return r.runGuarded(n,this,arguments,e)}}run(t,e,n,r){N={parent:N,zone:this};try{return this._zoneDelegate.invoke(this,t,e,n,r)}finally{N=N.parent}}runGuarded(t,e=null,n,r){N={parent:N,zone:this};try{try{return this._zoneDelegate.invoke(this,t,e,n,r)}catch(t){if(this._zoneDelegate.handleError(this,t))throw t}}finally{N=N.parent}}runTask(t,e,n){if(t.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(t.zone||y).name+"; Execution: "+this.name+")");if(t.state===E&&(t.type===C||t.type===P))return;const r=t.state!=w;r&&t._transitionTo(w,b),t.runCount++;const o=R;R=t,N={parent:N,zone:this};try{t.type==P&&t.data&&!t.data.isPeriodic&&(t.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,t,e,n)}catch(t){if(this._zoneDelegate.handleError(this,t))throw t}}finally{t.state!==E&&t.state!==k&&(t.type==C||t.data&&t.data.isPeriodic?r&&t._transitionTo(b,w):(t.runCount=0,this._updateTaskCount(t,-1),r&&t._transitionTo(E,w,E))),N=N.parent,R=o}}scheduleTask(t){if(t.zone&&t.zone!==this){let e=this;for(;e;){if(e===t.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${t.zone.name}`);e=e.parent}}t._transitionTo(T,E);const e=[];t._zoneDelegates=e,t._zone=this;try{t=this._zoneDelegate.scheduleTask(this,t)}catch(e){throw t._transitionTo(k,T,E),this._zoneDelegate.handleError(this,e),e}return t._zoneDelegates===e&&this._updateTaskCount(t,1),t.state==T&&t._transitionTo(b,T),t}scheduleMicroTask(t,e,n,r){return this.scheduleTask(new l(O,t,e,n,r,void 0))}scheduleMacroTask(t,e,n,r,o){return this.scheduleTask(new l(P,t,e,n,r,o))}scheduleEventTask(t,e,n,r,o){return this.scheduleTask(new l(C,t,e,n,r,o))}cancelTask(t){if(t.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(t.zone||y).name+"; Execution: "+this.name+")");t._transitionTo(S,b,w);try{this._zoneDelegate.cancelTask(this,t)}catch(e){throw t._transitionTo(k,S),this._zoneDelegate.handleError(this,e),e}return this._updateTaskCount(t,-1),t._transitionTo(E,S),t.runCount=0,t}_updateTaskCount(t,e){const n=t._zoneDelegates;-1==e&&(t._zoneDelegates=null);for(let r=0;r<n.length;r++)n[r]._updateTaskCount(t.type,e)}}s.__symbol__=i;const c={name:"",onHasTask:(t,e,n,r)=>t.hasTask(n,r),onScheduleTask:(t,e,n,r)=>t.scheduleTask(n,r),onInvokeTask:(t,e,n,r,o,i)=>t.invokeTask(n,r,o,i),onCancelTask:(t,e,n,r)=>t.cancelTask(n,r)};class u{constructor(t,e,n){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=t,this._parentDelegate=e,this._forkZS=n&&(n&&n.onFork?n:e._forkZS),this._forkDlgt=n&&(n.onFork?e:e._forkDlgt),this._forkCurrZone=n&&(n.onFork?this.zone:e._forkCurrZone),this._interceptZS=n&&(n.onIntercept?n:e._interceptZS),this._interceptDlgt=n&&(n.onIntercept?e:e._interceptDlgt),this._interceptCurrZone=n&&(n.onIntercept?this.zone:e._interceptCurrZone),this._invokeZS=n&&(n.onInvoke?n:e._invokeZS),this._invokeDlgt=n&&(n.onInvoke?e:e._invokeDlgt),this._invokeCurrZone=n&&(n.onInvoke?this.zone:e._invokeCurrZone),this._handleErrorZS=n&&(n.onHandleError?n:e._handleErrorZS),this._handleErrorDlgt=n&&(n.onHandleError?e:e._handleErrorDlgt),this._handleErrorCurrZone=n&&(n.onHandleError?this.zone:e._handleErrorCurrZone),this._scheduleTaskZS=n&&(n.onScheduleTask?n:e._scheduleTaskZS),this._scheduleTaskDlgt=n&&(n.onScheduleTask?e:e._scheduleTaskDlgt),this._scheduleTaskCurrZone=n&&(n.onScheduleTask?this.zone:e._scheduleTaskCurrZone),this._invokeTaskZS=n&&(n.onInvokeTask?n:e._invokeTaskZS),this._invokeTaskDlgt=n&&(n.onInvokeTask?e:e._invokeTaskDlgt),this._invokeTaskCurrZone=n&&(n.onInvokeTask?this.zone:e._invokeTaskCurrZone),this._cancelTaskZS=n&&(n.onCancelTask?n:e._cancelTaskZS),this._cancelTaskDlgt=n&&(n.onCancelTask?e:e._cancelTaskDlgt),this._cancelTaskCurrZone=n&&(n.onCancelTask?this.zone:e._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const r=n&&n.onHasTask,o=e&&e._hasTaskZS;(r||o)&&(this._hasTaskZS=r?n:c,this._hasTaskDlgt=e,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=t,n.onScheduleTask||(this._scheduleTaskZS=c,this._scheduleTaskDlgt=e,this._scheduleTaskCurrZone=this.zone),n.onInvokeTask||(this._invokeTaskZS=c,this._invokeTaskDlgt=e,this._invokeTaskCurrZone=this.zone),n.onCancelTask||(this._cancelTaskZS=c,this._cancelTaskDlgt=e,this._cancelTaskCurrZone=this.zone))}fork(t,e){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,t,e):new s(t,e)}intercept(t,e,n){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,t,e,n):e}invoke(t,e,n,r,o){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,t,e,n,r,o):e.apply(n,r)}handleError(t,e){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,t,e)}scheduleTask(t,e){let n=e;if(this._scheduleTaskZS)this._hasTaskZS&&n._zoneDelegates.push(this._hasTaskDlgtOwner),n=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,t,e),n||(n=e);else if(e.scheduleFn)e.scheduleFn(e);else{if(e.type!=O)throw new Error("Task is missing scheduleFn.");v(e)}return n}invokeTask(t,e,n,r){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,t,e,n,r):e.callback.apply(n,r)}cancelTask(t,e){let n;if(this._cancelTaskZS)n=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,t,e);else{if(!e.cancelFn)throw Error("Task is not cancelable");n=e.cancelFn(e)}return n}hasTask(t,e){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,t,e)}catch(e){this.handleError(t,e)}}_updateTaskCount(t,e){const n=this._taskCounts,r=n[t],o=n[t]=r+e;if(o<0)throw new Error("More tasks executed then were scheduled.");if(0==r||0==o){const e={microTask:n.microTask>0,macroTask:n.macroTask>0,eventTask:n.eventTask>0,change:t};this.hasTask(this.zone,e)}}}class l{constructor(e,n,r,o,i,a){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=e,this.source=n,this.data=o,this.scheduleFn=i,this.cancelFn=a,!r)throw new Error("callback is not defined");this.callback=r;const s=this;e===C&&o&&o.useG?this.invoke=l.invokeTask:this.invoke=function(){return l.invokeTask.call(t,s,this,arguments)}}static invokeTask(t,e,n){t||(t=this),I++;try{return t.runCount++,t.zone.runTask(t,e,n)}finally{1==I&&m(),I--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(E,T)}_transitionTo(t,e,n){if(this._state!==e&&this._state!==n)throw new Error(`${this.type} '${this.source}': can not transition to '${t}', expecting state '${e}'${n?" or '"+n+"'":""}, was '${this._state}'.`);this._state=t,t==E&&(this._zoneDelegates=null)}toString(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const p=i("setTimeout"),h=i("Promise"),d=i("then");let f,_=[],g=!1;function v(e){if(0===I&&0===_.length)if(f||t[h]&&(f=t[h].resolve(0)),f){let t=f[d];t||(t=f.then),t.call(f,m)}else t[p](m,0);e&&_.push(e)}function m(){if(!g){for(g=!0;_.length;){const t=_;_=[];for(let e=0;e<t.length;e++){const n=t[e];try{n.zone.runTask(n,null,null)}catch(t){A.onUnhandledError(t)}}}A.microtaskDrainDone(),g=!1}}const y={name:"NO ZONE"},E="notScheduled",T="scheduling",b="scheduled",w="running",S="canceling",k="unknown",O="microTask",P="macroTask",C="eventTask",L={},A={symbol:i,currentZoneFrame:()=>N,onUnhandledError:x,microtaskDrainDone:x,scheduleMicroTask:v,showUncaughtError:()=>!s[i("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:x,patchMethod:()=>x,bindArguments:()=>[],patchThen:()=>x,patchMacroTask:()=>x,patchEventPrototype:()=>x,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>x,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>x,wrapWithCurrentZone:()=>x,filterProperties:()=>[],attachOriginToPatched:()=>x,_redefineProperty:()=>x,patchCallbacks:()=>x};let N={parent:null,zone:new s(null,null)},R=null,I=0;function x(){}r("Zone","Zone"),t.Zone=s}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||n.g);const r=Object.getOwnPropertyDescriptor,o=Object.defineProperty,i=Object.getPrototypeOf,a=Object.create,s=Array.prototype.slice,c="addEventListener",u="removeEventListener",l=Zone.__symbol__(c),p=Zone.__symbol__(u),h="true",d="false",f=Zone.__symbol__("");function _(t,e){return Zone.current.wrap(t,e)}function g(t,e,n,r,o){return Zone.current.scheduleMacroTask(t,e,n,r,o)}const v=Zone.__symbol__,m="undefined"!=typeof window,y=m?window:void 0,E=m&&y||"object"==typeof self&&self||n.g,T=[null];function b(t,e){for(let n=t.length-1;n>=0;n--)"function"==typeof t[n]&&(t[n]=_(t[n],e+"_"+n));return t}function w(t){return!t||!1!==t.writable&&!("function"==typeof t.get&&void 0===t.set)}const S="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,k=!("nw"in E)&&void 0!==E.process&&"[object process]"==={}.toString.call(E.process),O=!k&&!S&&!(!m||!y.HTMLElement),P=void 0!==E.process&&"[object process]"==={}.toString.call(E.process)&&!S&&!(!m||!y.HTMLElement),C={},L=function(t){if(!(t=t||E.event))return;let e=C[t.type];e||(e=C[t.type]=v("ON_PROPERTY"+t.type));const n=this||t.target||E,r=n[e];let o;if(O&&n===y&&"error"===t.type){const e=t;o=r&&r.call(this,e.message,e.filename,e.lineno,e.colno,e.error),!0===o&&t.preventDefault()}else o=r&&r.apply(this,arguments),null==o||o||t.preventDefault();return o};function A(t,e,n){let i=r(t,e);if(!i&&n){r(n,e)&&(i={enumerable:!0,configurable:!0})}if(!i||!i.configurable)return;const a=v("on"+e+"patched");if(t.hasOwnProperty(a)&&t[a])return;delete i.writable,delete i.value;const s=i.get,c=i.set,u=e.substr(2);let l=C[u];l||(l=C[u]=v("ON_PROPERTY"+u)),i.set=function(e){let n=this;n||t!==E||(n=E),n&&(n[l]&&n.removeEventListener(u,L),c&&c.apply(n,T),"function"==typeof e?(n[l]=e,n.addEventListener(u,L,!1)):n[l]=null)},i.get=function(){let n=this;if(n||t!==E||(n=E),!n)return null;const r=n[l];if(r)return r;if(s){let t=s&&s.call(this);if(t)return i.set.call(this,t),"function"==typeof n.removeAttribute&&n.removeAttribute(e),t}return null},o(t,e,i),t[a]=!0}function N(t,e,n){if(e)for(let r=0;r<e.length;r++)A(t,"on"+e[r],n);else{const e=[];for(const n in t)"on"==n.substr(0,2)&&e.push(n);for(let r=0;r<e.length;r++)A(t,e[r],n)}}const R=v("originalInstance");function I(t){const e=E[t];if(!e)return;E[v(t)]=e,E[t]=function(){const n=b(arguments,t);switch(n.length){case 0:this[R]=new e;break;case 1:this[R]=new e(n[0]);break;case 2:this[R]=new e(n[0],n[1]);break;case 3:this[R]=new e(n[0],n[1],n[2]);break;case 4:this[R]=new e(n[0],n[1],n[2],n[3]);break;default:throw new Error("Arg list too long.")}},M(E[t],e);const n=new e((function(){}));let r;for(r in n)"XMLHttpRequest"===t&&"responseBlob"===r||function(e){"function"==typeof n[e]?E[t].prototype[e]=function(){return this[R][e].apply(this[R],arguments)}:o(E[t].prototype,e,{set:function(n){"function"==typeof n?(this[R][e]=_(n,t+"."+e),M(this[R][e],n)):this[R][e]=n},get:function(){return this[R][e]}})}(r);for(r in e)"prototype"!==r&&e.hasOwnProperty(r)&&(E[t][r]=e[r])}function x(t,e,n){let o=t;for(;o&&!o.hasOwnProperty(e);)o=i(o);!o&&t[e]&&(o=t);const a=v(e);let s=null;if(o&&(!(s=o[a])||!o.hasOwnProperty(a))){s=o[a]=o[e];if(w(o&&r(o,e))){const t=n(s,a,e);o[e]=function(){return t(this,arguments)},M(o[e],s)}}return s}function D(t,e,n){let r=null;function o(t){const e=t.data;return e.args[e.cbIdx]=function(){t.invoke.apply(this,arguments)},r.apply(e.target,e.args),t}r=x(t,e,(t=>function(e,r){const i=n(e,r);return i.cbIdx>=0&&"function"==typeof r[i.cbIdx]?g(i.name,r[i.cbIdx],i,o):t.apply(e,r)}))}function M(t,e){t[v("OriginalDelegate")]=e}let j=!1,Z=!1;function B(){try{const t=y.navigator.userAgent;if(-1!==t.indexOf("MSIE ")||-1!==t.indexOf("Trident/"))return!0}catch(t){}return!1}function z(){if(j)return Z;j=!0;try{const t=y.navigator.userAgent;-1===t.indexOf("MSIE ")&&-1===t.indexOf("Trident/")&&-1===t.indexOf("Edge/")||(Z=!0)}catch(t){}return Z}Zone.__load_patch("ZoneAwarePromise",((t,e,n)=>{const r=Object.getOwnPropertyDescriptor,o=Object.defineProperty;const i=n.symbol,a=[],s=!0===t[i("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],c=i("Promise"),u=i("then");n.onUnhandledError=t=>{if(n.showUncaughtError()){const e=t&&t.rejection;e?console.error("Unhandled Promise rejection:",e instanceof Error?e.message:e,"; Zone:",t.zone.name,"; Task:",t.task&&t.task.source,"; Value:",e,e instanceof Error?e.stack:void 0):console.error(t)}},n.microtaskDrainDone=()=>{for(;a.length;){const t=a.shift();try{t.zone.runGuarded((()=>{if(t.throwOriginal)throw t.rejection;throw t}))}catch(t){p(t)}}};const l=i("unhandledPromiseRejectionHandler");function p(t){n.onUnhandledError(t);try{const n=e[l];"function"==typeof n&&n.call(this,t)}catch(t){}}function h(t){return t&&t.then}function d(t){return t}function f(t){return A.reject(t)}const _=i("state"),g=i("value"),v=i("finally"),m=i("parentPromiseValue"),y=i("parentPromiseState"),E=null,T=!0,b=!1;function w(t,e){return n=>{try{k(t,e,n)}catch(e){k(t,!1,e)}}}const S=i("currentTaskTrace");function k(t,r,i){const c=function(){let t=!1;return function(e){return function(){t||(t=!0,e.apply(null,arguments))}}}();if(t===i)throw new TypeError("Promise resolved with itself");if(t[_]===E){let u=null;try{"object"!=typeof i&&"function"!=typeof i||(u=i&&i.then)}catch(e){return c((()=>{k(t,!1,e)}))(),t}if(r!==b&&i instanceof A&&i.hasOwnProperty(_)&&i.hasOwnProperty(g)&&i[_]!==E)P(i),k(t,i[_],i[g]);else if(r!==b&&"function"==typeof u)try{u.call(i,c(w(t,r)),c(w(t,!1)))}catch(e){c((()=>{k(t,!1,e)}))()}else{t[_]=r;const c=t[g];if(t[g]=i,t[v]===v&&r===T&&(t[_]=t[y],t[g]=t[m]),r===b&&i instanceof Error){const t=e.currentTask&&e.currentTask.data&&e.currentTask.data.__creationTrace__;t&&o(i,S,{configurable:!0,enumerable:!1,writable:!0,value:t})}for(let e=0;e<c.length;)C(t,c[e++],c[e++],c[e++],c[e++]);if(0==c.length&&r==b){t[_]=0;let r=i;try{throw new Error("Uncaught (in promise): "+function(t){if(t&&t.toString===Object.prototype.toString){return(t.constructor&&t.constructor.name||"")+": "+JSON.stringify(t)}return t?t.toString():Object.prototype.toString.call(t)}(i)+(i&&i.stack?"\n"+i.stack:""))}catch(t){r=t}s&&(r.throwOriginal=!0),r.rejection=i,r.promise=t,r.zone=e.current,r.task=e.currentTask,a.push(r),n.scheduleMicroTask()}}}return t}const O=i("rejectionHandledHandler");function P(t){if(0===t[_]){try{const n=e[O];n&&"function"==typeof n&&n.call(this,{rejection:t[g],promise:t})}catch(t){}t[_]=b;for(let e=0;e<a.length;e++)t===a[e].promise&&a.splice(e,1)}}function C(t,e,n,r,o){P(t);const i=t[_],a=i?"function"==typeof r?r:d:"function"==typeof o?o:f;e.scheduleMicroTask("Promise.then",(()=>{try{const r=t[g],o=!!n&&v===n[v];o&&(n[m]=r,n[y]=i);const s=e.run(a,void 0,o&&a!==f&&a!==d?[]:[r]);k(n,!0,s)}catch(t){k(n,!1,t)}}),n)}const L=function(){};class A{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(t){return k(new this(null),T,t)}static reject(t){return k(new this(null),b,t)}static race(t){let e,n,r=new this(((t,r)=>{e=t,n=r}));function o(t){e(t)}function i(t){n(t)}for(let e of t)h(e)||(e=this.resolve(e)),e.then(o,i);return r}static all(t){return A.allWithCallback(t)}static allSettled(t){return(this&&this.prototype instanceof A?this:A).allWithCallback(t,{thenCallback:t=>({status:"fulfilled",value:t}),errorCallback:t=>({status:"rejected",reason:t})})}static allWithCallback(t,e){let n,r,o=new this(((t,e)=>{n=t,r=e})),i=2,a=0;const s=[];for(let o of t){h(o)||(o=this.resolve(o));const t=a;try{o.then((r=>{s[t]=e?e.thenCallback(r):r,i--,0===i&&n(s)}),(o=>{e?(s[t]=e.errorCallback(o),i--,0===i&&n(s)):r(o)}))}catch(t){r(t)}i++,a++}return i-=2,0===i&&n(s),o}constructor(t){const e=this;if(!(e instanceof A))throw new Error("Must be an instanceof Promise.");e[_]=E,e[g]=[];try{t&&t(w(e,T),w(e,b))}catch(t){k(e,!1,t)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return A}then(t,n){let r=this.constructor[Symbol.species];r&&"function"==typeof r||(r=this.constructor||A);const o=new r(L),i=e.current;return this[_]==E?this[g].push(i,o,t,n):C(this,i,o,t,n),o}catch(t){return this.then(null,t)}finally(t){let n=this.constructor[Symbol.species];n&&"function"==typeof n||(n=A);const r=new n(L);r[v]=v;const o=e.current;return this[_]==E?this[g].push(o,r,t,t):C(this,o,r,t,t),r}}A.resolve=A.resolve,A.reject=A.reject,A.race=A.race,A.all=A.all;const N=t[c]=t.Promise;t.Promise=A;const R=i("thenPatched");function I(t){const e=t.prototype,n=r(e,"then");if(n&&(!1===n.writable||!n.configurable))return;const o=e.then;e[u]=o,t.prototype.then=function(t,e){return new A(((t,e)=>{o.call(this,t,e)})).then(t,e)},t[R]=!0}return n.patchThen=I,N&&(I(N),x(t,"fetch",(t=>{return e=t,function(t,n){let r=e.apply(t,n);if(r instanceof A)return r;let o=r.constructor;return o[R]||I(o),r};var e}))),Promise[e.__symbol__("uncaughtPromiseErrors")]=a,A})),Zone.__load_patch("toString",(t=>{const e=Function.prototype.toString,n=v("OriginalDelegate"),r=v("Promise"),o=v("Error"),i=function(){if("function"==typeof this){const i=this[n];if(i)return"function"==typeof i?e.call(i):Object.prototype.toString.call(i);if(this===Promise){const n=t[r];if(n)return e.call(n)}if(this===Error){const n=t[o];if(n)return e.call(n)}}return e.call(this)};i[n]=e,Function.prototype.toString=i;const a=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":a.call(this)}}));let U=!1;if("undefined"!=typeof window)try{const t=Object.defineProperty({},"passive",{get:function(){U=!0}});window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){U=!1}const F={useG:!0},G={},H={},V=new RegExp("^"+f+"(\\w+)(true|false)$"),X=v("propagationStopped");function q(t,e){const n=(e?e(t):t)+d,r=(e?e(t):t)+h,o=f+n,i=f+r;G[t]={},G[t].false=o,G[t].true=i}function W(t,e,n){const r=n&&n.add||c,o=n&&n.rm||u,a=n&&n.listeners||"eventListeners",s=n&&n.rmAll||"removeAllListeners",l=v(r),p="."+r+":",_=function(t,e,n){if(t.isRemoved)return;const r=t.callback;"object"==typeof r&&r.handleEvent&&(t.callback=t=>r.handleEvent(t),t.originalDelegate=r),t.invoke(t,e,[n]);const i=t.options;if(i&&"object"==typeof i&&i.once){const r=t.originalDelegate?t.originalDelegate:t.callback;e[o].call(e,n.type,r,i)}},g=function(e){if(!(e=e||t.event))return;const n=this||e.target||t,r=n[G[e.type].false];if(r)if(1===r.length)_(r[0],n,e);else{const t=r.slice();for(let r=0;r<t.length&&(!e||!0!==e[X]);r++)_(t[r],n,e)}},m=function(e){if(!(e=e||t.event))return;const n=this||e.target||t,r=n[G[e.type].true];if(r)if(1===r.length)_(r[0],n,e);else{const t=r.slice();for(let r=0;r<t.length&&(!e||!0!==e[X]);r++)_(t[r],n,e)}};function y(e,n){if(!e)return!1;let c=!0;n&&void 0!==n.useG&&(c=n.useG);const u=n&&n.vh;let _=!0;n&&void 0!==n.chkDup&&(_=n.chkDup);let y=!1;n&&void 0!==n.rt&&(y=n.rt);let E=e;for(;E&&!E.hasOwnProperty(r);)E=i(E);if(!E&&e[r]&&(E=e),!E)return!1;if(E[l])return!1;const T=n&&n.eventNameToString,b={},w=E[l]=E[r],S=E[v(o)]=E[o],O=E[v(a)]=E[a],P=E[v(s)]=E[s];let C;function L(t,e){return!U&&"object"==typeof t&&t?!!t.capture:U&&e?"boolean"==typeof t?{capture:t,passive:!0}:t?"object"==typeof t&&!1!==t.passive?Object.assign(Object.assign({},t),{passive:!0}):t:{passive:!0}:t}n&&n.prepend&&(C=E[v(n.prepend)]=E[n.prepend]);const A=function(t){return C.call(b.target,b.eventName,t.invoke,b.options)},N=c?function(t){if(!b.isExisting)return w.call(b.target,b.eventName,b.capture?m:g,b.options)}:function(t){return w.call(b.target,b.eventName,t.invoke,b.options)},R=c?function(t){if(!t.isRemoved){const e=G[t.eventName];let n;e&&(n=e[t.capture?h:d]);const r=n&&t.target[n];if(r)for(let e=0;e<r.length;e++){if(r[e]===t){r.splice(e,1),t.isRemoved=!0,0===r.length&&(t.allRemoved=!0,t.target[n]=null);break}}}if(t.allRemoved)return S.call(t.target,t.eventName,t.capture?m:g,t.options)}:function(t){return S.call(t.target,t.eventName,t.invoke,t.options)},I=n&&n.diff?n.diff:function(t,e){const n=typeof e;return"function"===n&&t.callback===e||"object"===n&&t.originalDelegate===e},x=Zone[v("UNPATCHED_EVENTS")],D=t[v("PASSIVE_EVENTS")],j=function(e,r,o,i,a=!1,s=!1){return function(){const l=this||t;let p=arguments[0];n&&n.transferEventName&&(p=n.transferEventName(p));let f=arguments[1];if(!f)return e.apply(this,arguments);if(k&&"uncaughtException"===p)return e.apply(this,arguments);let g=!1;if("function"!=typeof f){if(!f.handleEvent)return e.apply(this,arguments);g=!0}if(u&&!u(e,f,l,arguments))return;const v=U&&!!D&&-1!==D.indexOf(p),m=L(arguments[2],v);if(x)for(let t=0;t<x.length;t++)if(p===x[t])return v?e.call(l,p,f,m):e.apply(this,arguments);const y=!!m&&("boolean"==typeof m||m.capture),E=!(!m||"object"!=typeof m)&&m.once,w=Zone.current;let S=G[p];S||(q(p,T),S=G[p]);const O=S[y?h:d];let P,C=l[O],A=!1;if(C){if(A=!0,_)for(let t=0;t<C.length;t++)if(I(C[t],f))return}else C=l[O]=[];const N=l.constructor.name,R=H[N];R&&(P=R[p]),P||(P=N+r+(T?T(p):p)),b.options=m,E&&(b.options.once=!1),b.target=l,b.capture=y,b.eventName=p,b.isExisting=A;const M=c?F:void 0;M&&(M.taskData=b);const j=w.scheduleEventTask(P,f,M,o,i);return b.target=null,M&&(M.taskData=null),E&&(m.once=!0),(U||"boolean"!=typeof j.options)&&(j.options=m),j.target=l,j.capture=y,j.eventName=p,g&&(j.originalDelegate=f),s?C.unshift(j):C.push(j),a?l:void 0}};return E[r]=j(w,p,N,R,y),C&&(E.prependListener=j(C,".prependListener:",A,R,y,!0)),E[o]=function(){const e=this||t;let r=arguments[0];n&&n.transferEventName&&(r=n.transferEventName(r));const o=arguments[2],i=!!o&&("boolean"==typeof o||o.capture),a=arguments[1];if(!a)return S.apply(this,arguments);if(u&&!u(S,a,e,arguments))return;const s=G[r];let c;s&&(c=s[i?h:d]);const l=c&&e[c];if(l)for(let t=0;t<l.length;t++){const n=l[t];if(I(n,a)){if(l.splice(t,1),n.isRemoved=!0,0===l.length&&(n.allRemoved=!0,e[c]=null,"string"==typeof r)){e[f+"ON_PROPERTY"+r]=null}return n.zone.cancelTask(n),y?e:void 0}}return S.apply(this,arguments)},E[a]=function(){const e=this||t;let r=arguments[0];n&&n.transferEventName&&(r=n.transferEventName(r));const o=[],i=Y(e,T?T(r):r);for(let t=0;t<i.length;t++){const e=i[t];let n=e.originalDelegate?e.originalDelegate:e.callback;o.push(n)}return o},E[s]=function(){const e=this||t;let r=arguments[0];if(r){n&&n.transferEventName&&(r=n.transferEventName(r));const t=G[r];if(t){const n=t.false,i=t.true,a=e[n],s=e[i];if(a){const t=a.slice();for(let e=0;e<t.length;e++){const n=t[e];let i=n.originalDelegate?n.originalDelegate:n.callback;this[o].call(this,r,i,n.options)}}if(s){const t=s.slice();for(let e=0;e<t.length;e++){const n=t[e];let i=n.originalDelegate?n.originalDelegate:n.callback;this[o].call(this,r,i,n.options)}}}}else{const t=Object.keys(e);for(let e=0;e<t.length;e++){const n=t[e],r=V.exec(n);let o=r&&r[1];o&&"removeListener"!==o&&this[s].call(this,o)}this[s].call(this,"removeListener")}if(y)return this},M(E[r],w),M(E[o],S),P&&M(E[s],P),O&&M(E[a],O),!0}let E=[];for(let t=0;t<e.length;t++)E[t]=y(e[t],n);return E}function Y(t,e){if(!e){const n=[];for(let r in t){const o=V.exec(r);let i=o&&o[1];if(i&&(!e||i===e)){const e=t[r];if(e)for(let t=0;t<e.length;t++)n.push(e[t])}}return n}let n=G[e];n||(q(e),n=G[e]);const r=t[n.false],o=t[n.true];return r?o?r.concat(o):r.slice():o?o.slice():[]}function $(t,e){const n=t.Event;n&&n.prototype&&e.patchMethod(n.prototype,"stopImmediatePropagation",(t=>function(e,n){e[X]=!0,t&&t.apply(e,n)}))}function K(t,e,n,r,o){const i=Zone.__symbol__(r);if(e[i])return;const a=e[i]=e[r];e[r]=function(i,s,c){return s&&s.prototype&&o.forEach((function(e){const o=`${n}.${r}::`+e,i=s.prototype;if(i.hasOwnProperty(e)){const n=t.ObjectGetOwnPropertyDescriptor(i,e);n&&n.value?(n.value=t.wrapWithCurrentZone(n.value,o),t._redefineProperty(s.prototype,e,n)):i[e]&&(i[e]=t.wrapWithCurrentZone(i[e],o))}else i[e]&&(i[e]=t.wrapWithCurrentZone(i[e],o))})),a.call(e,i,s,c)},t.attachOriginToPatched(e[r],a)}const Q=["absolutedeviceorientation","afterinput","afterprint","appinstalled","beforeinstallprompt","beforeprint","beforeunload","devicelight","devicemotion","deviceorientation","deviceorientationabsolute","deviceproximity","hashchange","languagechange","message","mozbeforepaint","offline","online","paint","pageshow","pagehide","popstate","rejectionhandled","storage","unhandledrejection","unload","userproximity","vrdisplayconnected","vrdisplaydisconnected","vrdisplaypresentchange"],J=["encrypted","waitingforkey","msneedkey","mozinterruptbegin","mozinterruptend"],tt=["load"],et=["blur","error","focus","load","resize","scroll","messageerror"],nt=["bounce","finish","start"],rt=["loadstart","progress","abort","error","load","progress","timeout","loadend","readystatechange"],ot=["upgradeneeded","complete","abort","success","error","blocked","versionchange","close"],it=["close","error","open","message"],at=["error","message"],st=["abort","animationcancel","animationend","animationiteration","auxclick","beforeinput","blur","cancel","canplay","canplaythrough","change","compositionstart","compositionupdate","compositionend","cuechange","click","close","contextmenu","curechange","dblclick","drag","dragend","dragenter","dragexit","dragleave","dragover","drop","durationchange","emptied","ended","error","focus","focusin","focusout","gotpointercapture","input","invalid","keydown","keypress","keyup","load","loadstart","loadeddata","loadedmetadata","lostpointercapture","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","mousewheel","orientationchange","pause","play","playing","pointercancel","pointerdown","pointerenter","pointerleave","pointerlockchange","mozpointerlockchange","webkitpointerlockerchange","pointerlockerror","mozpointerlockerror","webkitpointerlockerror","pointermove","pointout","pointerover","pointerup","progress","ratechange","reset","resize","scroll","seeked","seeking","select","selectionchange","selectstart","show","sort","stalled","submit","suspend","timeupdate","volumechange","touchcancel","touchmove","touchstart","touchend","transitioncancel","transitionend","waiting","wheel"].concat(["webglcontextrestored","webglcontextlost","webglcontextcreationerror"],["autocomplete","autocompleteerror"],["toggle"],["afterscriptexecute","beforescriptexecute","DOMContentLoaded","freeze","fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange","fullscreenerror","mozfullscreenerror","webkitfullscreenerror","msfullscreenerror","readystatechange","visibilitychange","resume"],Q,["beforecopy","beforecut","beforepaste","copy","cut","paste","dragstart","loadend","animationstart","search","transitionrun","transitionstart","webkitanimationend","webkitanimationiteration","webkitanimationstart","webkittransitionend"],["activate","afterupdate","ariarequest","beforeactivate","beforedeactivate","beforeeditfocus","beforeupdate","cellchange","controlselect","dataavailable","datasetchanged","datasetcomplete","errorupdate","filterchange","layoutcomplete","losecapture","move","moveend","movestart","propertychange","resizeend","resizestart","rowenter","rowexit","rowsdelete","rowsinserted","command","compassneedscalibration","deactivate","help","mscontentzoom","msmanipulationstatechanged","msgesturechange","msgesturedoubletap","msgestureend","msgesturehold","msgesturestart","msgesturetap","msgotpointercapture","msinertiastart","mslostpointercapture","mspointercancel","mspointerdown","mspointerenter","mspointerhover","mspointerleave","mspointermove","mspointerout","mspointerover","mspointerup","pointerout","mssitemodejumplistitemremoved","msthumbnailclick","stop","storagecommit"]);function ct(t,e,n){if(!n||0===n.length)return e;const r=n.filter((e=>e.target===t));if(!r||0===r.length)return e;const o=r[0].ignoreProperties;return e.filter((t=>-1===o.indexOf(t)))}function ut(t,e,n,r){if(!t)return;N(t,ct(t,e,n),r)}function lt(t,e){if(k&&!P)return;if(Zone[t.symbol("patchEvents")])return;const n="undefined"!=typeof WebSocket,r=e.__Zone_ignore_on_properties;if(O){const t=window,e=B()?[{target:t,ignoreProperties:["error"]}]:[];ut(t,st.concat(["messageerror"]),r?r.concat(e):r,i(t)),ut(Document.prototype,st,r),void 0!==t.SVGElement&&ut(t.SVGElement.prototype,st,r),ut(Element.prototype,st,r),ut(HTMLElement.prototype,st,r),ut(HTMLMediaElement.prototype,J,r),ut(HTMLFrameSetElement.prototype,Q.concat(et),r),ut(HTMLBodyElement.prototype,Q.concat(et),r),ut(HTMLFrameElement.prototype,tt,r),ut(HTMLIFrameElement.prototype,tt,r);const n=t.HTMLMarqueeElement;n&&ut(n.prototype,nt,r);const o=t.Worker;o&&ut(o.prototype,at,r)}const o=e.XMLHttpRequest;o&&ut(o.prototype,rt,r);const a=e.XMLHttpRequestEventTarget;a&&ut(a&&a.prototype,rt,r),"undefined"!=typeof IDBIndex&&(ut(IDBIndex.prototype,ot,r),ut(IDBRequest.prototype,ot,r),ut(IDBOpenDBRequest.prototype,ot,r),ut(IDBDatabase.prototype,ot,r),ut(IDBTransaction.prototype,ot,r),ut(IDBCursor.prototype,ot,r)),n&&ut(WebSocket.prototype,it,r)}Zone.__load_patch("util",((t,e,n)=>{n.patchOnProperties=N,n.patchMethod=x,n.bindArguments=b,n.patchMacroTask=D;const i=e.__symbol__("BLACK_LISTED_EVENTS"),l=e.__symbol__("UNPATCHED_EVENTS");t[l]&&(t[i]=t[l]),t[i]&&(e[i]=e[l]=t[i]),n.patchEventPrototype=$,n.patchEventTarget=W,n.isIEOrEdge=z,n.ObjectDefineProperty=o,n.ObjectGetOwnPropertyDescriptor=r,n.ObjectCreate=a,n.ArraySlice=s,n.patchClass=I,n.wrapWithCurrentZone=_,n.filterProperties=ct,n.attachOriginToPatched=M,n._redefineProperty=Object.defineProperty,n.patchCallbacks=K,n.getGlobalObjects=()=>({globalSources:H,zoneSymbolEventNames:G,eventNames:st,isBrowser:O,isMix:P,isNode:k,TRUE_STR:h,FALSE_STR:d,ZONE_SYMBOL_PREFIX:f,ADD_EVENT_LISTENER_STR:c,REMOVE_EVENT_LISTENER_STR:u})}));const pt=v("zoneTask");function ht(t,e,n,r){let o=null,i=null;n+=r;const a={};function s(e){const n=e.data;return n.args[0]=function(){return e.invoke.apply(this,arguments)},n.handleId=o.apply(t,n.args),e}function c(e){return i.call(t,e.data.handleId)}o=x(t,e+=r,(n=>function(o,i){if("function"==typeof i[0]){const t={isPeriodic:"Interval"===r,delay:"Timeout"===r||"Interval"===r?i[1]||0:void 0,args:i},n=i[0];i[0]=function(){try{return n.apply(this,arguments)}finally{t.isPeriodic||("number"==typeof t.handleId?delete a[t.handleId]:t.handleId&&(t.handleId[pt]=null))}};const o=g(e,i[0],t,s,c);if(!o)return o;const u=o.data.handleId;return"number"==typeof u?a[u]=o:u&&(u[pt]=o),u&&u.ref&&u.unref&&"function"==typeof u.ref&&"function"==typeof u.unref&&(o.ref=u.ref.bind(u),o.unref=u.unref.bind(u)),"number"==typeof u||u?u:o}return n.apply(t,i)})),i=x(t,n,(e=>function(n,r){const o=r[0];let i;"number"==typeof o?i=a[o]:(i=o&&o[pt],i||(i=o)),i&&"string"==typeof i.type?"notScheduled"!==i.state&&(i.cancelFn&&i.data.isPeriodic||0===i.runCount)&&("number"==typeof o?delete a[o]:o&&(o[pt]=null),i.zone.cancelTask(i)):e.apply(t,r)}))}function dt(t,e){if(Zone[e.symbol("patchEventTarget")])return;const{eventNames:n,zoneSymbolEventNames:r,TRUE_STR:o,FALSE_STR:i,ZONE_SYMBOL_PREFIX:a}=e.getGlobalObjects();for(let t=0;t<n.length;t++){const e=n[t],s=a+(e+i),c=a+(e+o);r[e]={},r[e][i]=s,r[e][o]=c}const s=t.EventTarget;return s&&s.prototype?(e.patchEventTarget(t,[s&&s.prototype]),!0):void 0}Zone.__load_patch("legacy",(t=>{const e=t[Zone.__symbol__("legacyPatch")];e&&e()})),Zone.__load_patch("queueMicrotask",((t,e,n)=>{n.patchMethod(t,"queueMicrotask",(t=>function(t,n){e.current.scheduleMicroTask("queueMicrotask",n[0])}))})),Zone.__load_patch("timers",(t=>{const e="set",n="clear";ht(t,e,n,"Timeout"),ht(t,e,n,"Interval"),ht(t,e,n,"Immediate")})),Zone.__load_patch("requestAnimationFrame",(t=>{ht(t,"request","cancel","AnimationFrame"),ht(t,"mozRequest","mozCancel","AnimationFrame"),ht(t,"webkitRequest","webkitCancel","AnimationFrame")})),Zone.__load_patch("blocking",((t,e)=>{const n=["alert","prompt","confirm"];for(let r=0;r<n.length;r++){x(t,n[r],((n,r,o)=>function(r,i){return e.current.run(n,t,i,o)}))}})),Zone.__load_patch("EventTarget",((t,e,n)=>{!function(t,e){e.patchEventPrototype(t,e)}(t,n),dt(t,n);const r=t.XMLHttpRequestEventTarget;r&&r.prototype&&n.patchEventTarget(t,[r.prototype])})),Zone.__load_patch("MutationObserver",((t,e,n)=>{I("MutationObserver"),I("WebKitMutationObserver")})),Zone.__load_patch("IntersectionObserver",((t,e,n)=>{I("IntersectionObserver")})),Zone.__load_patch("FileReader",((t,e,n)=>{I("FileReader")})),Zone.__load_patch("on_property",((t,e,n)=>{lt(n,t)})),Zone.__load_patch("customElements",((t,e,n)=>{!function(t,e){const{isBrowser:n,isMix:r}=e.getGlobalObjects();if(!n&&!r||!t.customElements||!("customElements"in t))return;e.patchCallbacks(e,t.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(t,n)})),Zone.__load_patch("XHR",((t,e)=>{!function(t){const c=t.XMLHttpRequest;if(!c)return;const u=c.prototype;let h=u[l],d=u[p];if(!h){const e=t.XMLHttpRequestEventTarget;if(e){const t=e.prototype;h=t[l],d=t[p]}}const f="readystatechange",_="scheduled";function m(t){const r=t.data,a=r.target;a[i]=!1,a[s]=!1;const c=a[o];h||(h=a[l],d=a[p]),c&&d.call(a,f,c);const u=a[o]=()=>{if(a.readyState===a.DONE)if(!r.aborted&&a[i]&&t.state===_){const n=a[e.__symbol__("loadfalse")];if(0!==a.status&&n&&n.length>0){const o=t.invoke;t.invoke=function(){const n=a[e.__symbol__("loadfalse")];for(let e=0;e<n.length;e++)n[e]===t&&n.splice(e,1);r.aborted||t.state!==_||o.call(t)},n.push(t)}else t.invoke()}else r.aborted||!1!==a[i]||(a[s]=!0)};h.call(a,f,u);return a[n]||(a[n]=t),S.apply(a,r.args),a[i]=!0,t}function y(){}function E(t){const e=t.data;return e.aborted=!0,k.apply(e.target,e.args)}const T=x(u,"open",(()=>function(t,e){return t[r]=0==e[2],t[a]=e[1],T.apply(t,e)})),b=v("fetchTaskAborting"),w=v("fetchTaskScheduling"),S=x(u,"send",(()=>function(t,n){if(!0===e.current[w])return S.apply(t,n);if(t[r])return S.apply(t,n);{const e={target:t,url:t[a],isPeriodic:!1,args:n,aborted:!1},r=g("XMLHttpRequest.send",y,e,m,E);t&&!0===t[s]&&!e.aborted&&r.state===_&&r.invoke()}})),k=x(u,"abort",(()=>function(t,r){const o=t[n];if(o&&"string"==typeof o.type){if(null==o.cancelFn||o.data&&o.data.aborted)return;o.zone.cancelTask(o)}else if(!0===e.current[b])return k.apply(t,r)}))}(t);const n=v("xhrTask"),r=v("xhrSync"),o=v("xhrListener"),i=v("xhrScheduled"),a=v("xhrURL"),s=v("xhrErrorBeforeScheduled")})),Zone.__load_patch("geolocation",(t=>{t.navigator&&t.navigator.geolocation&&function(t,e){const n=t.constructor.name;for(let o=0;o<e.length;o++){const i=e[o],a=t[i];if(a){if(!w(r(t,i)))continue;t[i]=(t=>{const e=function(){return t.apply(this,b(arguments,n+"."+i))};return M(e,t),e})(a)}}}(t.navigator.geolocation,["getCurrentPosition","watchPosition"])})),Zone.__load_patch("PromiseRejectionEvent",((t,e)=>{function n(e){return function(n){Y(t,e).forEach((r=>{const o=t.PromiseRejectionEvent;if(o){const t=new o(e,{promise:n.promise,reason:n.rejection});r.invoke(t)}}))}}t.PromiseRejectionEvent&&(e[v("unhandledPromiseRejectionHandler")]=n("unhandledrejection"),e[v("rejectionHandledHandler")]=n("rejectionhandled"))}))}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var t="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof n.g?n.g:{},e="1.0.4",r=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;var o=function(t){var e=new Set([t]),n=new Set,o=t.match(r);if(!o)return function(){return!1};var i=+o[1],a=+o[2],s=+o[3];if(null!=o[4])return function(e){return e===t};function c(t){return n.add(t),!1}function u(t){return e.add(t),!0}return function(t){if(e.has(t))return!0;if(n.has(t))return!1;var o=t.match(r);if(!o)return c(t);var l=+o[1],p=+o[2],h=+o[3];return null!=o[4]||i!==l?c(t):0===i?a===p&&s<=h?u(t):c(t):a<=p?u(t):c(t)}}(e),i=e.split(".")[0],a=Symbol.for("opentelemetry.js.api."+i),s=t;function c(t,n,r,o){var i;void 0===o&&(o=!1);var c=s[a]=null!==(i=s[a])&&void 0!==i?i:{version:e};if(!o&&c[t]){var u=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+t);return r.error(u.stack||u.message),!1}if(c.version!==e){u=new Error("@opentelemetry/api: All API registration versions must match");return r.error(u.stack||u.message),!1}return c[t]=n,r.debug("@opentelemetry/api: Registered a global for "+t+" v"+"1.0.4."),!0}function u(t){var e,n,r=null===(e=s[a])||void 0===e?void 0:e.version;if(r&&o(r))return null===(n=s[a])||void 0===n?void 0:n[t]}function l(t,e){e.debug("@opentelemetry/api: Unregistering a global for "+t+" v"+"1.0.4.");var n=s[a];n&&delete n[t]}var p,h=function(){function t(t){this._namespace=t.namespace||"DiagComponentLogger"}return t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return d("debug",this._namespace,t)},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return d("error",this._namespace,t)},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return d("info",this._namespace,t)},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return d("warn",this._namespace,t)},t.prototype.verbose=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return d("verbose",this._namespace,t)},t}();function d(t,e,n){var r=u("diag");if(r)return n.unshift(e),r[t].apply(r,n)}!function(t){t[t.NONE=0]="NONE",t[t.ERROR=30]="ERROR",t[t.WARN=50]="WARN",t[t.INFO=60]="INFO",t[t.DEBUG=70]="DEBUG",t[t.VERBOSE=80]="VERBOSE",t[t.ALL=9999]="ALL"}(p||(p={}));var f=function(){function t(){function t(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=u("diag");if(r)return r[t].apply(r,e)}}var e=this;e.setLogger=function(t,n){var r,o;if(void 0===n&&(n=p.INFO),t===e){var i=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return e.error(null!==(r=i.stack)&&void 0!==r?r:i.message),!1}var a=u("diag"),s=function(t,e){function n(n,r){var o=e[n];return"function"==typeof o&&t>=r?o.bind(e):function(){}}return t<p.NONE?t=p.NONE:t>p.ALL&&(t=p.ALL),e=e||{},{error:n("error",p.ERROR),warn:n("warn",p.WARN),info:n("info",p.INFO),debug:n("debug",p.DEBUG),verbose:n("verbose",p.VERBOSE)}}(n,t);if(a){var l=null!==(o=(new Error).stack)&&void 0!==o?o:"<failed to generate stacktrace>";a.warn("Current logger will be overwritten from "+l),s.warn("Current logger will overwrite one already registered from "+l)}return c("diag",s,e,!0)},e.disable=function(){l("diag",e)},e.createComponentLogger=function(t){return new h(t)},e.verbose=t("verbose"),e.debug=t("debug"),e.info=t("info"),e.warn=t("warn"),e.error=t("error")}return t.instance=function(){return this._instance||(this._instance=new t),this._instance},t}(),_=function(){function t(t){this._entries=t?new Map(t):new Map}return t.prototype.getEntry=function(t){var e=this._entries.get(t);if(e)return Object.assign({},e)},t.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map((function(t){return[t[0],t[1]]}))},t.prototype.setEntry=function(e,n){var r=new t(this._entries);return r._entries.set(e,n),r},t.prototype.removeEntry=function(e){var n=new t(this._entries);return n._entries.delete(e),n},t.prototype.removeEntries=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=new t(this._entries),o=0,i=e;o<i.length;o++){var a=i[o];r._entries.delete(a)}return r},t.prototype.clear=function(){return new t},t}(),g=Symbol("BaggageEntryMetadata"),v=f.instance();function m(t){return void 0===t&&(t={}),new _(new Map(Object.entries(t)))}var y={get:function(t,e){if(null!=t)return t[e]},keys:function(t){return null==t?[]:Object.keys(t)}},E={set:function(t,e,n){null!=t&&(t[e]=n)}};function T(t){return Symbol.for(t)}var b,w=function t(e){var n=this;n._currentContext=e?new Map(e):new Map,n.getValue=function(t){return n._currentContext.get(t)},n.setValue=function(e,r){var o=new t(n._currentContext);return o._currentContext.set(e,r),o},n.deleteValue=function(e){var r=new t(n._currentContext);return r._currentContext.delete(e),r}},S=new w,k=function(t,e){for(var n=0,r=e.length,o=t.length;n<r;n++,o++)t[o]=e[n];return t},O=function(){function t(){}return t.prototype.active=function(){return S},t.prototype.with=function(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];return e.call.apply(e,k([n],r))},t.prototype.bind=function(t,e){return e},t.prototype.enable=function(){return this},t.prototype.disable=function(){return this},t}(),P=function(t,e){for(var n=0,r=e.length,o=t.length;n<r;n++,o++)t[o]=e[n];return t},C="context",L=new O,A=function(){function t(){}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalContextManager=function(t){return c(C,t,f.instance())},t.prototype.active=function(){return this._getContextManager().active()},t.prototype.with=function(t,e,n){for(var r,o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];return(r=this._getContextManager()).with.apply(r,P([t,e,n],o))},t.prototype.bind=function(t,e){return this._getContextManager().bind(t,e)},t.prototype._getContextManager=function(){return u(C)||L},t.prototype.disable=function(){this._getContextManager().disable(),l(C,f.instance())},t}();!function(t){t[t.NONE=0]="NONE",t[t.SAMPLED=1]="SAMPLED"}(b||(b={}));var N="0000000000000000",R="00000000000000000000000000000000",I={traceId:R,spanId:N,traceFlags:b.NONE},x=function(){function t(t){void 0===t&&(t=I),this._spanContext=t}return t.prototype.spanContext=function(){return this._spanContext},t.prototype.setAttribute=function(t,e){return this},t.prototype.setAttributes=function(t){return this},t.prototype.addEvent=function(t,e){return this},t.prototype.setStatus=function(t){return this},t.prototype.updateName=function(t){return this},t.prototype.end=function(t){},t.prototype.isRecording=function(){return!1},t.prototype.recordException=function(t,e){},t}(),D=T("OpenTelemetry Context Key SPAN");function M(t){return t.getValue(D)||void 0}function j(t,e){return t.setValue(D,e)}function Z(t){return t.deleteValue(D)}function B(t,e){return j(t,new x(e))}function z(t){var e;return null===(e=M(t))||void 0===e?void 0:e.spanContext()}var U=/^([0-9a-f]{32})$/i,F=/^[0-9a-f]{16}$/i;function G(t){return U.test(t)&&t!==R}function H(t){return G(t.traceId)&&(e=t.spanId,F.test(e)&&e!==N);var e}function V(t){return new x(t)}var X=A.getInstance(),q=function(){function t(){}return t.prototype.startSpan=function(t,e,n){if(Boolean(null==e?void 0:e.root))return new x;var r,o=n&&z(n);return"object"==typeof(r=o)&&"string"==typeof r.spanId&&"string"==typeof r.traceId&&"number"==typeof r.traceFlags&&H(o)?new x(o):new x},t.prototype.startActiveSpan=function(t,e,n,r){var o,i,a;if(!(arguments.length<2)){2===arguments.length?a=e:3===arguments.length?(o=e,a=n):(o=e,i=n,a=r);var s=null!=i?i:X.active(),c=this.startSpan(t,o,s),u=j(s,c);return X.with(u,a,void 0,c)}},t}();var W,Y,$,K=new q,Q=function(){function t(t,e,n){this._provider=t,this.name=e,this.version=n}return t.prototype.startSpan=function(t,e,n){return this._getTracer().startSpan(t,e,n)},t.prototype.startActiveSpan=function(t,e,n,r){var o=this._getTracer();return Reflect.apply(o.startActiveSpan,o,arguments)},t.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version);return t?(this._delegate=t,this._delegate):K},t}(),J=new(function(){function t(){}return t.prototype.getTracer=function(t,e){return new q},t}()),tt=function(){function t(){}return t.prototype.getTracer=function(t,e){var n;return null!==(n=this.getDelegateTracer(t,e))&&void 0!==n?n:new Q(this,t,e)},t.prototype.getDelegate=function(){var t;return null!==(t=this._delegate)&&void 0!==t?t:J},t.prototype.setDelegate=function(t){this._delegate=t},t.prototype.getDelegateTracer=function(t,e){var n;return null===(n=this._delegate)||void 0===n?void 0:n.getTracer(t,e)},t}();!function(t){t[t.NOT_RECORD=0]="NOT_RECORD",t[t.RECORD=1]="RECORD",t[t.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(W||(W={})),function(t){t[t.INTERNAL=0]="INTERNAL",t[t.SERVER=1]="SERVER",t[t.CLIENT=2]="CLIENT",t[t.PRODUCER=3]="PRODUCER",t[t.CONSUMER=4]="CONSUMER"}(Y||(Y={})),function(t){t[t.UNSET=0]="UNSET",t[t.OK=1]="OK",t[t.ERROR=2]="ERROR"}($||($={}));var et="trace",nt=function(){function t(){this._proxyTracerProvider=new tt,this.wrapSpanContext=V,this.isSpanContextValid=H,this.deleteSpan=Z,this.getSpan=M,this.getSpanContext=z,this.setSpan=j,this.setSpanContext=B}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalTracerProvider=function(t){var e=c(et,this._proxyTracerProvider,f.instance());return e&&this._proxyTracerProvider.setDelegate(t),e},t.prototype.getTracerProvider=function(){return u(et)||this._proxyTracerProvider},t.prototype.getTracer=function(t,e){return this.getTracerProvider().getTracer(t,e)},t.prototype.disable=function(){l(et,f.instance()),this._proxyTracerProvider=new tt},t}(),rt=function(){function t(){}return t.prototype.inject=function(t,e){},t.prototype.extract=function(t,e){return t},t.prototype.fields=function(){return[]},t}(),ot=T("OpenTelemetry Baggage Key");function it(t){return t.getValue(ot)||void 0}function at(t,e){return t.setValue(ot,e)}function st(t){return t.deleteValue(ot)}var ct="propagation",ut=new rt,lt=function(){function t(){this.createBaggage=m,this.getBaggage=it,this.setBaggage=at,this.deleteBaggage=st}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalPropagator=function(t){return c(ct,t,f.instance())},t.prototype.inject=function(t,e,n){return void 0===n&&(n=E),this._getGlobalPropagator().inject(t,e,n)},t.prototype.extract=function(t,e,n){return void 0===n&&(n=y),this._getGlobalPropagator().extract(t,e,n)},t.prototype.fields=function(){return this._getGlobalPropagator().fields()},t.prototype.disable=function(){l(ct,f.instance())},t.prototype._getGlobalPropagator=function(){return u(ct)||ut},t}(),pt=A.getInstance(),ht=nt.getInstance(),dt=lt.getInstance(),ft=f.instance();var _t=T("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function gt(t){return t.setValue(_t,!0)}function vt(t){return!0===t.getValue(_t)}var mt="baggage";function yt(t){var e=t.split(";");if(!(e.length<=0)){var n=e.shift();if(n){var r=n.split("=");if(2===r.length){var o,i,a=decodeURIComponent(r[0].trim()),s=decodeURIComponent(r[1].trim());return e.length>0&&("string"!=typeof(i=e.join(";"))&&(v.error("Cannot create baggage metadata from unknown type: "+typeof i),i=""),o={__TYPE__:g,toString:function(){return i}}),{key:a,value:s,metadata:o}}}}}var Et=function(){function t(){}return t.prototype.inject=function(t,e,n){var r=dt.getBaggage(t);if(r&&!vt(t)){var o=function(t){return t.getAllEntries().map((function(t){var e=t[0],n=t[1];return encodeURIComponent(e)+"="+encodeURIComponent(n.value)}))}(r).filter((function(t){return t.length<=4096})).slice(0,180),i=function(t){return t.reduce((function(t,e){var n=t+(""!==t?",":"")+e;return n.length>8192?t:n}),"")}(o);i.length>0&&n.set(e,mt,i)}},t.prototype.extract=function(t,e,n){var r=n.get(e,mt);if(!r)return t;var o={};return 0===r.length?t:(r.split(",").forEach((function(t){var e=yt(t);if(e){var n={value:e.value};e.metadata&&(n.metadata=e.metadata),o[e.key]=n}})),0===Object.entries(o).length?t:dt.setBaggage(t,dt.createBaggage(o)))},t.prototype.fields=function(){return[mt]},t}();function Tt(t){return null==t||(Array.isArray(t)?function(t){for(var e,n=0,r=t;n<r.length;n++){var o=r[n];if(null!=o){if(!e){if(bt(o)){e=typeof o;continue}return!1}if(typeof o!==e)return!1}}return!0}(t):bt(t))}function bt(t){switch(typeof t){case"number":case"boolean":case"string":return!0}return!1}var wt,St=function(t){ft.error(function(t){return"string"==typeof t?t:JSON.stringify(function(t){for(var e={},n=t;null!==n;)Object.getOwnPropertyNames(n).forEach((function(t){if(!e[t]){var r=n[t];r&&(e[t]=String(r))}})),n=Object.getPrototypeOf(n);return e}(t))}(t))};function kt(t){try{St(t)}catch(t){}}!function(t){t.AlwaysOff="always_off",t.AlwaysOn="always_on",t.ParentBasedAlwaysOff="parentbased_always_off",t.ParentBasedAlwaysOn="parentbased_always_on",t.ParentBasedTraceIdRatio="parentbased_traceidratio",t.TraceIdRatio="traceidratio"}(wt||(wt={}));var Ot=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT"];function Pt(t){return Ot.indexOf(t)>-1}var Ct=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function Lt(t){return Ct.indexOf(t)>-1}var At=1/0,Nt=128,Rt={CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:p.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:At,OTEL_ATTRIBUTE_COUNT_LIMIT:Nt,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:At,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:Nt,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"none",OTEL_TRACES_SAMPLER:wt.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:""};function It(t,e,n,r,o){if(void 0===r&&(r=-1/0),void 0===o&&(o=1/0),void 0!==n[t]){var i=Number(n[t]);isNaN(i)||(e[t]=i<r?r:i>o?o:i)}}function xt(t,e,n,r){void 0===r&&(r=",");var o=n[t];"string"==typeof o&&(e[t]=o.split(r).map((function(t){return t.trim()})))}var Dt={ALL:p.ALL,VERBOSE:p.VERBOSE,DEBUG:p.DEBUG,INFO:p.INFO,WARN:p.WARN,ERROR:p.ERROR,NONE:p.NONE};function Mt(t,e,n){var r=n[t];if("string"==typeof r){var o=Dt[r.toUpperCase()];null!=o&&(e[t]=o)}}var jt="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof n.g?n.g:{};function Zt(){var t=function(t){var e={};for(var n in Rt){var r=n;if("OTEL_LOG_LEVEL"===r)Mt(r,e,t);else if(Pt(r))It(r,e,t);else if(Lt(r))xt(r,e,t);else{var o=t[r];null!=o&&(e[r]=String(o))}}return e}(jt);return Object.assign({},Rt,t)}var Bt=function(){this.generateTraceId=Ut(16),this.generateSpanId=Ut(8)},zt=Array(32);function Ut(t){return function(){for(var e=0;e<2*t;e++)zt[e]=Math.floor(16*Math.random())+48,zt[e]>=58&&(zt[e]+=39);return String.fromCharCode.apply(null,zt.slice(0,2*t))}}var Ft,Gt=performance,Ht="1.0.1",Vt="exception.type",Xt="exception.message",qt="exception.stacktrace",Wt="process.runtime.name",Yt="service.name",$t="telemetry.sdk.name",Kt="telemetry.sdk.language",Qt="telemetry.sdk.version",Jt=((Ft={})[$t]="opentelemetry",Ft[Wt]="browser",Ft[Kt]="webjs",Ft[Qt]=Ht,Ft);var te,ee=Math.pow(10,9);function ne(t){var e=t/1e3,n=Math.trunc(e);return[n,Number((e-n).toFixed(9))*ee]}function re(){var t=Gt.timeOrigin;if("number"!=typeof t){var e=Gt;t=e.timing&&e.timing.fetchStart}return t}function oe(t){var e=ne(re()),n=ne("number"==typeof t?t:Gt.now()),r=e[0]+n[0],o=e[1]+n[1];return o>ee&&(o-=ee,r+=1),[r,o]}function ie(t){if(se(t))return t;if("number"==typeof t)return t<re()?oe(t):ne(t);if(t instanceof Date)return ne(t.getTime());throw TypeError("Invalid input type")}function ae(t){return Math.round(1e6*t[0]+t[1]/1e3)}function se(t){return Array.isArray(t)&&2===t.length&&"number"==typeof t[0]&&"number"==typeof t[1]}!function(t){t[t.SUCCESS=0]="SUCCESS",t[t.FAILED=1]="FAILED"}(te||(te={}));var ce=function(){function t(t){var e;void 0===t&&(t={}),this._propagators=null!==(e=t.propagators)&&void 0!==e?e:[],this._fields=Array.from(new Set(this._propagators.map((function(t){return"function"==typeof t.fields?t.fields():[]})).reduce((function(t,e){return t.concat(e)}),[])))}return t.prototype.inject=function(t,e,n){for(var r=0,o=this._propagators;r<o.length;r++){var i=o[r];try{i.inject(t,e,n)}catch(t){ft.warn("Failed to inject with "+i.constructor.name+". Err: "+t.message)}}},t.prototype.extract=function(t,e,n){return this._propagators.reduce((function(t,r){try{return r.extract(t,e,n)}catch(t){ft.warn("Failed to inject with "+r.constructor.name+". Err: "+t.message)}return t}),t)},t.prototype.fields=function(){return this._fields.slice()},t}(),ue=new RegExp("^(?:[a-z][_0-9a-z-*/]{0,255}|[a-z0-9][_0-9a-z-*/]{0,240}@[a-z][_0-9a-z-*/]{0,13})$"),le=/^[ -~]{0,255}[!-~]$/,pe=/,|=/;var he=function(){function t(t){this._internalState=new Map,t&&this._parse(t)}return t.prototype.set=function(t,e){var n=this._clone();return n._internalState.has(t)&&n._internalState.delete(t),n._internalState.set(t,e),n},t.prototype.unset=function(t){var e=this._clone();return e._internalState.delete(t),e},t.prototype.get=function(t){return this._internalState.get(t)},t.prototype.serialize=function(){var t=this;return this._keys().reduce((function(e,n){return e.push(n+"="+t.get(n)),e}),[]).join(",")},t.prototype._parse=function(t){t.length>512||(this._internalState=t.split(",").reverse().reduce((function(t,e){var n=e.trim(),r=n.indexOf("=");if(-1!==r){var o=n.slice(0,r),i=n.slice(r+1,e.length);(function(t){return ue.test(t)})(o)&&function(t){return le.test(t)&&!pe.test(t)}(i)&&t.set(o,i)}return t}),new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},t.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},t.prototype._clone=function(){var e=new t;return e._internalState=new Map(this._internalState),e},t}(),de="traceparent",fe="tracestate",_e=new RegExp("^\\s?((?!ff)[\\da-f]{2})-((?![0]{32})[\\da-f]{32})-((?![0]{16})[\\da-f]{16})-([\\da-f]{2})(-.*)?\\s?$");var ge,ve=function(){function t(){}return t.prototype.inject=function(t,e,n){var r=ht.getSpanContext(t);if(r&&!vt(t)&&H(r)){var o="00-"+r.traceId+"-"+r.spanId+"-0"+Number(r.traceFlags||b.NONE).toString(16);n.set(e,de,o),r.traceState&&n.set(e,fe,r.traceState.serialize())}},t.prototype.extract=function(t,e,n){var r=n.get(e,de);if(!r)return t;var o=Array.isArray(r)?r[0]:r;if("string"!=typeof o)return t;var i=function(t){var e=_e.exec(t);return e?"00"===e[1]&&e[5]?null:{traceId:e[2],spanId:e[3],traceFlags:parseInt(e[4],16)}:null}(o);if(!i)return t;i.isRemote=!0;var a=n.get(e,fe);if(a){var s=Array.isArray(a)?a.join(","):a;i.traceState=new he("string"==typeof s?s:void 0)}return ht.setSpanContext(t,i)},t.prototype.fields=function(){return[de,fe]},t}();T("OpenTelemetry SDK Context Key RPC_METADATA");!function(t){t.HTTP="http"}(ge||(ge={}));var me,ye,Ee=function(){function t(){}return t.prototype.shouldSample=function(){return{decision:W.NOT_RECORD}},t.prototype.toString=function(){return"AlwaysOffSampler"},t}(),Te=function(){function t(){}return t.prototype.shouldSample=function(){return{decision:W.RECORD_AND_SAMPLED}},t.prototype.toString=function(){return"AlwaysOnSampler"},t}(),be=function(){function t(t){var e,n,r,o;this._root=t.root,this._root||(kt(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new Te),this._remoteParentSampled=null!==(e=t.remoteParentSampled)&&void 0!==e?e:new Te,this._remoteParentNotSampled=null!==(n=t.remoteParentNotSampled)&&void 0!==n?n:new Ee,this._localParentSampled=null!==(r=t.localParentSampled)&&void 0!==r?r:new Te,this._localParentNotSampled=null!==(o=t.localParentNotSampled)&&void 0!==o?o:new Ee}return t.prototype.shouldSample=function(t,e,n,r,o,i){var a=ht.getSpanContext(t);return a&&H(a)?a.isRemote?a.traceFlags&b.SAMPLED?this._remoteParentSampled.shouldSample(t,e,n,r,o,i):this._remoteParentNotSampled.shouldSample(t,e,n,r,o,i):a.traceFlags&b.SAMPLED?this._localParentSampled.shouldSample(t,e,n,r,o,i):this._localParentNotSampled.shouldSample(t,e,n,r,o,i):this._root.shouldSample(t,e,n,r,o,i)},t.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},t}(),we=function(){function t(t){void 0===t&&(t=0),this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(4294967295*this._ratio)}return t.prototype.shouldSample=function(t,e){return{decision:G(e)&&this._accumulate(e)<this._upperBound?W.RECORD_AND_SAMPLED:W.NOT_RECORD}},t.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},t.prototype._normalize=function(t){return"number"!=typeof t||isNaN(t)?0:t>=1?1:t<=0?0:t},t.prototype._accumulate=function(t){for(var e=0,n=0;n<t.length/8;n++){var r=8*n;e=(e^parseInt(t.slice(r,r+8),16))>>>0}return e},t}(),Se="[object Null]",ke="[object Undefined]",Oe=Function.prototype.toString,Pe=Oe.call(Object),Ce=(me=Object.getPrototypeOf,ye=Object,function(t){return me(ye(t))}),Le=Object.prototype,Ae=Le.hasOwnProperty,Ne=Symbol?Symbol.toStringTag:void 0,Re=Le.toString;function Ie(t){if(!function(t){return null!=t&&"object"==typeof t}(t)||"[object Object]"!==function(t){if(null==t)return void 0===t?ke:Se;return Ne&&Ne in Object(t)?function(t){var e=Ae.call(t,Ne),n=t[Ne],r=!1;try{t[Ne]=void 0,r=!0}catch(t){}var o=Re.call(t);r&&(e?t[Ne]=n:delete t[Ne]);return o}(t):function(t){return Re.call(t)}(t)}(t))return!1;var e=Ce(t);if(null===e)return!0;var n=Ae.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Oe.call(n)===Pe}function xe(t){return je(t)?t.slice():t}function De(t,e,n,r){var o;if(void 0===n&&(n=0),!(n>20)){if(n++,ze(t)||ze(e)||Ze(e))o=xe(e);else if(je(t)){if(o=t.slice(),je(e))for(var i=0,a=e.length;i<a;i++)o.push(xe(e[i]));else if(Be(e))for(i=0,a=(s=Object.keys(e)).length;i<a;i++){o[c=s[i]]=xe(e[c])}}else if(Be(t))if(Be(e)){if(!function(t,e){if(!Ie(t)||!Ie(e))return!1;return!0}(t,e))return e;o=Object.assign({},t);var s;for(i=0,a=(s=Object.keys(e)).length;i<a;i++){var c,u=e[c=s[i]];if(ze(u))void 0===u?delete o[c]:o[c]=u;else{var l=o[c],p=u;if(Me(t,c,r)||Me(e,c,r))delete o[c];else{if(Be(l)&&Be(p)){var h=r.get(l)||[],d=r.get(p)||[];h.push({obj:t,key:c}),d.push({obj:e,key:c}),r.set(l,h),r.set(p,d)}o[c]=De(o[c],u,n,r)}}}}else o=e;return o}}function Me(t,e,n){for(var r=n.get(t[e])||[],o=0,i=r.length;o<i;o++){var a=r[o];if(a.key===e&&a.obj===t)return!0}return!1}function je(t){return Array.isArray(t)}function Ze(t){return"function"==typeof t}function Be(t){return!ze(t)&&!je(t)&&!Ze(t)&&"object"==typeof t}function ze(t){return"string"==typeof t||"number"==typeof t||"boolean"==typeof t||void 0===t||t instanceof Date||t instanceof RegExp||null===t}var Ue=function(){function t(t,e,n,r,o,i,a,s){void 0===a&&(a=[]),void 0===s&&(s=oe()),this.attributes={},this.links=[],this.events=[],this.status={code:$.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=n,this._spanContext=r,this.parentSpanId=i,this.kind=o,this.links=a,this.startTime=ie(s),this.resource=t.resource,this.instrumentationLibrary=t.instrumentationLibrary,this._spanLimits=t.getSpanLimits(),this._spanProcessor=t.getActiveSpanProcessor(),this._spanProcessor.onStart(this,e),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0}return t.prototype.spanContext=function(){return this._spanContext},t.prototype.setAttribute=function(t,e){return null==e||this._isSpanEnded()?this:0===t.length?(ft.warn("Invalid attribute key: "+t),this):Tt(e)?(Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,t)||(this.attributes[t]=this._truncateToSize(e)),this):(ft.warn("Invalid attribute value set for key: "+t),this)},t.prototype.setAttributes=function(t){for(var e=0,n=Object.entries(t);e<n.length;e++){var r=n[e],o=r[0],i=r[1];this.setAttribute(o,i)}return this},t.prototype.addEvent=function(t,e,n){return this._isSpanEnded()||(this.events.length>=this._spanLimits.eventCountLimit&&(ft.warn("Dropping extra events."),this.events.shift()),(se(r=e)||"number"==typeof r||r instanceof Date)&&(void 0===n&&(n=e),e=void 0),void 0===n&&(n=oe()),this.events.push({name:t,attributes:e,time:ie(n)})),this;var r},t.prototype.setStatus=function(t){return this._isSpanEnded()||(this.status=t),this},t.prototype.updateName=function(t){return this._isSpanEnded()||(this.name=t),this},t.prototype.end=function(t){void 0===t&&(t=oe()),this._isSpanEnded()?ft.error("You can only call end() on a span once."):(this._ended=!0,this.endTime=ie(t),this._duration=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return r<0&&(n-=1,r+=ee),[n,r]}(this.startTime,this.endTime),this._duration[0]<0&&ft.warn("Inconsistent start and end time, startTime > endTime",this.startTime,this.endTime),this._spanProcessor.onEnd(this))},t.prototype.isRecording=function(){return!1===this._ended},t.prototype.recordException=function(t,e){void 0===e&&(e=oe());var n={};"string"==typeof t?n[Xt]=t:t&&(t.code?n[Vt]=t.code.toString():t.name&&(n[Vt]=t.name),t.message&&(n[Xt]=t.message),t.stack&&(n[qt]=t.stack)),n[Vt]||n[Xt]?this.addEvent("exception",n,e):ft.warn("Failed to record an exception "+t)},Object.defineProperty(t.prototype,"duration",{get:function(){return this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ended",{get:function(){return this._ended},enumerable:!1,configurable:!0}),t.prototype._isSpanEnded=function(){return this._ended&&ft.warn("Can not execute the operation on ended Span {traceId: "+this._spanContext.traceId+", spanId: "+this._spanContext.spanId+"}"),this._ended},t.prototype._truncateToLimitUtil=function(t,e){return t.length<=e?t:t.substr(0,e)},t.prototype._truncateToSize=function(t){var e=this,n=this._attributeValueLengthLimit;return n<=0?(ft.warn("Attribute value limit must be positive, got "+n),t):"string"==typeof t?this._truncateToLimitUtil(t,n):Array.isArray(t)?t.map((function(t){return"string"==typeof t?e._truncateToLimitUtil(t,n):t})):t},t}(),Fe=Zt(),Ge=wt.AlwaysOn,He={sampler:Ve(Fe),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:Zt().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:Zt().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:Zt().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:Zt().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:Zt().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:Zt().OTEL_SPAN_EVENT_COUNT_LIMIT}};function Ve(t){switch(void 0===t&&(t=Zt()),t.OTEL_TRACES_SAMPLER){case wt.AlwaysOn:return new Te;case wt.AlwaysOff:return new Ee;case wt.ParentBasedAlwaysOn:return new be({root:new Te});case wt.ParentBasedAlwaysOff:return new be({root:new Ee});case wt.TraceIdRatio:return new we(Xe(t));case wt.ParentBasedTraceIdRatio:return new be({root:new we(Xe(t))});default:return ft.error('OTEL_TRACES_SAMPLER value "'+t.OTEL_TRACES_SAMPLER+" invalid, defaulting to "+Ge+'".'),new Te}}function Xe(t){if(void 0===t.OTEL_TRACES_SAMPLER_ARG||""===t.OTEL_TRACES_SAMPLER_ARG)return ft.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to 1."),1;var e=Number(t.OTEL_TRACES_SAMPLER_ARG);return isNaN(e)?(ft.error("OTEL_TRACES_SAMPLER_ARG="+t.OTEL_TRACES_SAMPLER_ARG+" was given, but it is invalid, defaulting to 1."),1):e<0||e>1?(ft.error("OTEL_TRACES_SAMPLER_ARG="+t.OTEL_TRACES_SAMPLER_ARG+" was given, but it is out of range ([0..1]), defaulting to 1."),1):e}var qe=function(){function t(t,e,n){this._tracerProvider=n;var r,o,i,a=(r=e,o={sampler:Ve()},(i=Object.assign({},He,o,r)).generalLimits=Object.assign({},He.generalLimits,r.generalLimits||{}),i.spanLimits=Object.assign({},He.spanLimits,r.spanLimits||{}),i.spanLimits.attributeCountLimit===Nt&&i.generalLimits.attributeCountLimit!==Nt&&(i.spanLimits.attributeCountLimit=i.generalLimits.attributeCountLimit),i.spanLimits.attributeValueLengthLimit===At&&i.generalLimits.attributeValueLengthLimit!==At&&(i.spanLimits.attributeValueLengthLimit=i.generalLimits.attributeValueLengthLimit),i);this._sampler=a.sampler,this._generalLimits=a.generalLimits,this._spanLimits=a.spanLimits,this._idGenerator=e.idGenerator||new Bt,this.resource=n.resource,this.instrumentationLibrary=t}return t.prototype.startSpan=function(t,e,n){var r,o;if(void 0===e&&(e={}),void 0===n&&(n=pt.active()),vt(n))return ft.debug("Instrumentation suppressed, returning Noop Span"),ht.wrapSpanContext(I);var i,a,s,c=function(t,e){return t.root?void 0:ht.getSpanContext(e)}(e,n),u=this._idGenerator.generateSpanId();c&&ht.isSpanContextValid(c)?(i=c.traceId,a=c.traceState,s=c.spanId):i=this._idGenerator.generateTraceId();var l=null!==(r=e.kind)&&void 0!==r?r:Y.INTERNAL,p=null!==(o=e.links)&&void 0!==o?o:[],h=function(t){var e={};if(null==t||"object"!=typeof t)return e;for(var n=0,r=Object.entries(t);n<r.length;n++){var o=r[n],i=o[0],a=o[1];Tt(a)&&(Array.isArray(a)?e[i]=a.slice():e[i]=a)}return e}(e.attributes),d=this._sampler.shouldSample(e.root?ht.setSpanContext(n,I):n,i,t,l,h,p),f={traceId:i,spanId:u,traceFlags:d.decision===W.RECORD_AND_SAMPLED?b.SAMPLED:b.NONE,traceState:a};if(d.decision===W.NOT_RECORD)return ft.debug("Recording is off, propagating context in a non-recording span"),ht.wrapSpanContext(f);var _=new Ue(this,n,t,f,l,s,p,e.startTime);return _.setAttributes(Object.assign(h,d.attributes)),_},t.prototype.startActiveSpan=function(t,e,n,r){var o,i,a;if(!(arguments.length<2)){2===arguments.length?a=e:3===arguments.length?(o=e,a=n):(o=e,i=n,a=r);var s=null!=i?i:pt.active(),c=this.startSpan(t,o,s),u=ht.setSpan(s,c);return pt.with(u,a,void 0,c)}},t.prototype.getGeneralLimits=function(){return this._generalLimits},t.prototype.getSpanLimits=function(){return this._spanLimits},t.prototype.getActiveSpanProcessor=function(){return this._tracerProvider.getActiveSpanProcessor()},t}();var We,Ye,$e=function(){function t(t){this.attributes=t}return t.empty=function(){return t.EMPTY},t.default=function(){var e;return new t(((e={})[Yt]="unknown_service",e[Kt]=Jt[Kt],e[$t]=Jt[$t],e[Qt]=Jt[Qt],e))},t.prototype.merge=function(e){return e&&Object.keys(e.attributes).length?new t(Object.assign({},this.attributes,e.attributes)):this},t.EMPTY=new t({}),t}(),Ke=function(){function t(t){this._spanProcessors=t}return t.prototype.forceFlush=function(){for(var t=[],e=0,n=this._spanProcessors;e<n.length;e++){var r=n[e];t.push(r.forceFlush())}return new Promise((function(e){Promise.all(t).then((function(){e()})).catch((function(t){kt(t||new Error("MultiSpanProcessor: forceFlush failed")),e()}))}))},t.prototype.onStart=function(t,e){for(var n=0,r=this._spanProcessors;n<r.length;n++){r[n].onStart(t,e)}},t.prototype.onEnd=function(t){for(var e=0,n=this._spanProcessors;e<n.length;e++){n[e].onEnd(t)}},t.prototype.shutdown=function(){for(var t=[],e=0,n=this._spanProcessors;e<n.length;e++){var r=n[e];t.push(r.shutdown())}return new Promise((function(e,n){Promise.all(t).then((function(){e()}),n)}))},t}(),Qe=function(){function t(){}return t.prototype.onStart=function(t,e){},t.prototype.onEnd=function(t){},t.prototype.shutdown=function(){return Promise.resolve()},t.prototype.forceFlush=function(){return Promise.resolve()},t}(),Je=function(){function t(t,e){this._exporter=t,this._finishedSpans=[],this._isShutdown=!1,this._shuttingDownPromise=Promise.resolve();var n=Zt();this._maxExportBatchSize="number"==typeof(null==e?void 0:e.maxExportBatchSize)?e.maxExportBatchSize:n.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize="number"==typeof(null==e?void 0:e.maxQueueSize)?e.maxQueueSize:n.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis="number"==typeof(null==e?void 0:e.scheduledDelayMillis)?e.scheduledDelayMillis:n.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis="number"==typeof(null==e?void 0:e.exportTimeoutMillis)?e.exportTimeoutMillis:n.OTEL_BSP_EXPORT_TIMEOUT}return t.prototype.forceFlush=function(){return this._isShutdown?this._shuttingDownPromise:this._flushAll()},t.prototype.onStart=function(t){},t.prototype.onEnd=function(t){this._isShutdown||0!=(t.spanContext().traceFlags&b.SAMPLED)&&this._addToBuffer(t)},t.prototype.shutdown=function(){var t=this;return this._isShutdown||(this._isShutdown=!0,this._shuttingDownPromise=new Promise((function(e,n){Promise.resolve().then((function(){return t.onShutdown()})).then((function(){return t._flushAll()})).then((function(){return t._exporter.shutdown()})).then(e).catch((function(t){n(t)}))}))),this._shuttingDownPromise},t.prototype._addToBuffer=function(t){this._finishedSpans.length>=this._maxQueueSize||(this._finishedSpans.push(t),this._maybeStartTimer())},t.prototype._flushAll=function(){var t=this;return new Promise((function(e,n){for(var r=[],o=0,i=Math.ceil(t._finishedSpans.length/t._maxExportBatchSize);o<i;o++)r.push(t._flushOneBatch());Promise.all(r).then((function(){e()})).catch(n)}))},t.prototype._flushOneBatch=function(){var t=this;return this._clearTimer(),0===this._finishedSpans.length?Promise.resolve():new Promise((function(e,n){var r=setTimeout((function(){n(new Error("Timeout"))}),t._exportTimeoutMillis);pt.with(gt(pt.active()),(function(){t._exporter.export(t._finishedSpans.splice(0,t._maxExportBatchSize),(function(t){var o;clearTimeout(r),t.code===te.SUCCESS?e():n(null!==(o=t.error)&&void 0!==o?o:new Error("BatchSpanProcessor: span export failed"))}))}))}))},t.prototype._maybeStartTimer=function(){var t=this;void 0===this._timer&&(this._timer=setTimeout((function(){t._flushOneBatch().then((function(){t._finishedSpans.length>0&&(t._clearTimer(),t._maybeStartTimer())})).catch((function(t){kt(t)}))}),this._scheduledDelayMillis),this._timer)},t.prototype._clearTimer=function(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)},t}(),tn=(We=function(t,e){return We=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},We(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}We(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),en=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.onInit(n),r}return tn(e,t),e.prototype.onInit=function(t){var e=this;!0!==(null==t?void 0:t.disableAutoFlushOnDocumentHide)&&null!=document&&(this._visibilityChangeListener=function(){"hidden"===document.visibilityState&&e.forceFlush()},this._pageHideListener=function(){e.forceFlush()},document.addEventListener("visibilitychange",this._visibilityChangeListener),document.addEventListener("pagehide",this._pageHideListener))},e.prototype.onShutdown=function(){this._visibilityChangeListener&&document.removeEventListener("visibilitychange",this._visibilityChangeListener),this._pageHideListener&&document.removeEventListener("pagehide",this._pageHideListener)},e}(Je);!function(t){t[t.resolved=0]="resolved",t[t.timeout=1]="timeout",t[t.error=2]="error",t[t.unresolved=3]="unresolved"}(Ye||(Ye={}));var nn,rn=function(){function t(t){var e;void 0===t&&(t={}),this._registeredSpanProcessors=[],this._tracers=new Map;var n=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t.shift(),r=new WeakMap;t.length>0;)n=De(n,t.shift(),0,r);return n}({},He,t);this.resource=null!==(e=n.resource)&&void 0!==e?e:$e.empty(),this.resource=$e.default().merge(this.resource),this._config=Object.assign({},n,{resource:this.resource});var r=this._buildExporterFromEnv();if(void 0!==r){var o=new en(r);this.activeSpanProcessor=o}else this.activeSpanProcessor=new Qe}return t.prototype.getTracer=function(t,e){var n=t+"@"+(e||"");return this._tracers.has(n)||this._tracers.set(n,new qe({name:t,version:e},this._config,this)),this._tracers.get(n)},t.prototype.addSpanProcessor=function(t){0===this._registeredSpanProcessors.length&&this.activeSpanProcessor.shutdown().catch((function(t){return ft.error("Error while trying to shutdown current span processor",t)})),this._registeredSpanProcessors.push(t),this.activeSpanProcessor=new Ke(this._registeredSpanProcessors)},t.prototype.getActiveSpanProcessor=function(){return this.activeSpanProcessor},t.prototype.register=function(t){void 0===t&&(t={}),ht.setGlobalTracerProvider(this),void 0===t.propagator&&(t.propagator=this._buildPropagatorFromEnv()),t.contextManager&&pt.setGlobalContextManager(t.contextManager),t.propagator&&dt.setGlobalPropagator(t.propagator)},t.prototype.forceFlush=function(){var t=this._config.forceFlushTimeoutMillis,e=this._registeredSpanProcessors.map((function(e){return new Promise((function(n){var r,o=setTimeout((function(){n(new Error("Span processor did not completed within timeout period of "+t+" ms")),r=Ye.timeout}),t);e.forceFlush().then((function(){clearTimeout(o),r!==Ye.timeout&&(r=Ye.resolved,n(r))})).catch((function(t){clearTimeout(o),r=Ye.error,n(t)}))}))}));return new Promise((function(t,n){Promise.all(e).then((function(e){var r=e.filter((function(t){return t!==Ye.resolved}));r.length>0?n(r):t()})).catch((function(t){return n([t])}))}))},t.prototype.shutdown=function(){return this.activeSpanProcessor.shutdown()},t.prototype._getPropagator=function(e){var n;return null===(n=t._registeredPropagators.get(e))||void 0===n?void 0:n()},t.prototype._getSpanExporter=function(e){var n;return null===(n=t._registeredExporters.get(e))||void 0===n?void 0:n()},t.prototype._buildPropagatorFromEnv=function(){var t=this,e=Array.from(new Set(Zt().OTEL_PROPAGATORS)),n=e.map((function(e){var n=t._getPropagator(e);return n||ft.warn('Propagator "'+e+'" requested through environment variable is unavailable.'),n})).reduce((function(t,e){return e&&t.push(e),t}),[]);return 0===n.length?void 0:1===e.length?n[0]:new ce({propagators:n})},t.prototype._buildExporterFromEnv=function(){var t=Zt().OTEL_TRACES_EXPORTER;if("none"!==t){var e=this._getSpanExporter(t);return e||ft.error('Exporter "'+t+'" requested through environment variable is unavailable.'),e}},t._registeredPropagators=new Map([["tracecontext",function(){return new ve}],["baggage",function(){return new Et}]]),t._registeredExporters=new Map,t}(),on=function(){function t(){}return t.prototype.export=function(t,e){return this._sendSpans(t,e)},t.prototype.shutdown=function(){return this._sendSpans([]),Promise.resolve()},t.prototype._exportInfo=function(t){return{traceId:t.spanContext().traceId,parentId:t.parentSpanId,name:t.name,id:t.spanContext().spanId,kind:t.kind,timestamp:ae(t.startTime),duration:ae(t.duration),attributes:t.attributes,status:t.status,events:t.events}},t.prototype._sendSpans=function(t,e){for(var n=0,r=t;n<r.length;n++){var o=r[n];console.log(this._exportInfo(o))}if(e)return e({code:te.SUCCESS})},t}(),an=(function(){function t(){this._finishedSpans=[],this._stopped=!1}t.prototype.export=function(t,e){var n;if(this._stopped)return e({code:te.FAILED,error:new Error("Exporter has been stopped")});(n=this._finishedSpans).push.apply(n,t),setTimeout((function(){return e({code:te.SUCCESS})}),0)},t.prototype.shutdown=function(){return this._stopped=!0,this._finishedSpans=[],Promise.resolve()},t.prototype.reset=function(){this._finishedSpans=[]},t.prototype.getFinishedSpans=function(){return this._finishedSpans}}(),function(){function t(t){this._exporter=t,this._isShutdown=!1,this._shuttingDownPromise=Promise.resolve()}return t.prototype.forceFlush=function(){return Promise.resolve()},t.prototype.onStart=function(t){},t.prototype.onEnd=function(t){var e=this;this._isShutdown||0!=(t.spanContext().traceFlags&b.SAMPLED)&&pt.with(gt(pt.active()),(function(){e._exporter.export([t],(function(t){var e;t.code!==te.SUCCESS&&kt(null!==(e=t.error)&&void 0!==e?e:new Error("SimpleSpanProcessor: span export failed (status "+t+")"))}))}))},t.prototype.shutdown=function(){var t=this;return this._isShutdown||(this._isShutdown=!0,this._shuttingDownPromise=new Promise((function(e,n){Promise.resolve().then((function(){return t._exporter.shutdown()})).then(e).catch((function(t){n(t)}))}))),this._shuttingDownPromise},t}()),sn=function(t,e){for(var n=0,r=e.length,o=t.length;n<r;n++,o++)t[o]=e[n];return t},cn=function(){function t(){this._enabled=!1,this._currentContext=S}return t.prototype._bindFunction=function(t,e){void 0===t&&(t=S);var n=this,r=function(){for(var r=this,o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return n.with(t,(function(){return e.apply(r,o)}))};return Object.defineProperty(r,"length",{enumerable:!1,configurable:!0,writable:!1,value:e.length}),r},t.prototype.active=function(){return this._currentContext},t.prototype.bind=function(t,e){return void 0===t&&(t=this.active()),"function"==typeof e?this._bindFunction(t,e):e},t.prototype.disable=function(){return this._currentContext=S,this._enabled=!1,this},t.prototype.enable=function(){return this._enabled||(this._enabled=!0,this._currentContext=S),this},t.prototype.with=function(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var i=this._currentContext;this._currentContext=t||S;try{return e.call.apply(e,sn([n],r))}finally{this._currentContext=i}},t}(),un=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ln=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;if(e.contextManager)throw"contextManager should be defined in register method not in constructor";if(e.propagator)throw"propagator should be defined in register method not in constructor";return n}return un(e,t),e.prototype.register=function(e){void 0===e&&(e={}),void 0===e.contextManager&&(e.contextManager=new cn),e.contextManager&&e.contextManager.enable(),t.prototype.register.call(this,e)},e}(rn);function pn(t,e){if(t.nodeType===Node.DOCUMENT_NODE)return"/";var n=function(t,e){var n=t.nodeType,r=function(t){if(!t.parentNode)return 0;var e=[t.nodeType];t.nodeType===Node.CDATA_SECTION_NODE&&e.push(Node.TEXT_NODE);var n=Array.from(t.parentNode.childNodes);if((n=n.filter((function(n){var r=n.localName;return e.indexOf(n.nodeType)>=0&&r===t.localName}))).length>=1)return n.indexOf(t)+1;return 0}(t),o="";if(n===Node.ELEMENT_NODE){var i=t.getAttribute("id");if(e&&i)return'//*[@id="'+i+'"]';o=t.localName}else if(n===Node.TEXT_NODE||n===Node.CDATA_SECTION_NODE)o="text()";else{if(n!==Node.COMMENT_NODE)return"";o="comment()"}if(o&&r>1)return"/"+o+"["+r+"]";return"/"+o}(t,e);if(e&&n.indexOf("@id")>0)return n;var r="";return t.parentNode&&(r+=pn(t.parentNode,!1)),r+=n}!function(t){t.CONNECT_END="connectEnd",t.CONNECT_START="connectStart",t.DECODED_BODY_SIZE="decodedBodySize",t.DOM_COMPLETE="domComplete",t.DOM_CONTENT_LOADED_EVENT_END="domContentLoadedEventEnd",t.DOM_CONTENT_LOADED_EVENT_START="domContentLoadedEventStart",t.DOM_INTERACTIVE="domInteractive",t.DOMAIN_LOOKUP_END="domainLookupEnd",t.DOMAIN_LOOKUP_START="domainLookupStart",t.ENCODED_BODY_SIZE="encodedBodySize",t.FETCH_START="fetchStart",t.LOAD_EVENT_END="loadEventEnd",t.LOAD_EVENT_START="loadEventStart",t.NAVIGATION_START="navigationStart",t.REDIRECT_END="redirectEnd",t.REDIRECT_START="redirectStart",t.REQUEST_START="requestStart",t.RESPONSE_END="responseEnd",t.RESPONSE_START="responseStart",t.SECURE_CONNECTION_START="secureConnectionStart",t.UNLOAD_EVENT_END="unloadEventEnd",t.UNLOAD_EVENT_START="unloadEventStart"}(nn||(nn={}));var hn,dn,fn="OT_ZONE_CONTEXT",_n=function(){function t(){this._enabled=!1,this._zoneCounter=0}return t.prototype._activeContextFromZone=function(t){return t&&t.get(fn)||S},t.prototype._bindFunction=function(t,e){var n=this,r=function(){for(var r=this,o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return n.with(t,(function(){return e.apply(r,o)}))};return Object.defineProperty(r,"length",{enumerable:!1,configurable:!0,writable:!1,value:e.length}),r},t.prototype._bindListener=function(t,e){var n=e;return void 0!==n.__ot_listeners||(n.__ot_listeners={},"function"==typeof n.addEventListener&&(n.addEventListener=this._patchAddEventListener(n,n.addEventListener,t)),"function"==typeof n.removeEventListener&&(n.removeEventListener=this._patchRemoveEventListener(n,n.removeEventListener))),e},t.prototype._createZoneName=function(){this._zoneCounter++;var t=Math.random();return this._zoneCounter+"-"+t},t.prototype._createZone=function(t,e){var n;return Zone.current.fork({name:t,properties:(n={},n.OT_ZONE_CONTEXT=e,n)})},t.prototype._getActiveZone=function(){return Zone.current},t.prototype._patchAddEventListener=function(t,e,n){var r=this;return function(o,i,a){void 0===t.__ot_listeners&&(t.__ot_listeners={});var s=t.__ot_listeners[o];void 0===s&&(s=new WeakMap,t.__ot_listeners[o]=s);var c=r.bind(n,i);return s.set(i,c),e.call(this,o,c,a)}},t.prototype._patchRemoveEventListener=function(t,e){return function(n,r){if(void 0===t.__ot_listeners||void 0===t.__ot_listeners[n])return e.call(this,n,r);var o=t.__ot_listeners[n],i=o.get(r);return o.delete(r),e.call(this,n,i||r)}},t.prototype.active=function(){if(!this._enabled)return S;var t=this._getActiveZone(),e=this._activeContextFromZone(t);return e||S},t.prototype.bind=function(t,e){return void 0===t&&(t=this.active()),"function"==typeof e?this._bindFunction(t,e):(void 0===(n=e)&&(n={}),"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener&&this._bindListener(t,e),e);var n},t.prototype.disable=function(){return this._enabled=!1,this},t.prototype.enable=function(){return this._enabled=!0,this},t.prototype.with=function(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var i=this._createZoneName(),a=this._createZone(i,t);return a.run(e,n,r)},t}(),gn=(n(37),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),vn=function(){function t(){}return t.prototype.createHistogram=function(t,e){return kn},t.prototype.createCounter=function(t,e){return Sn},t.prototype.createUpDownCounter=function(t,e){return On},t.prototype.createObservableGauge=function(t,e,n){return Cn},t.prototype.createObservableCounter=function(t,e,n){return Pn},t.prototype.createObservableUpDownCounter=function(t,e,n){return Ln},t}(),mn=function(){},yn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return gn(e,t),e.prototype.add=function(t,e){},e}(mn),En=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return gn(e,t),e.prototype.add=function(t,e){},e}(mn),Tn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return gn(e,t),e.prototype.record=function(t,e){},e}(mn),bn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return gn(e,t),e.prototype.observation=function(){return{observable:this,value:0}},e}(mn),wn=new vn,Sn=new yn,kn=new Tn,On=new En,Pn=new bn,Cn=new bn,Ln=new bn,An=new(function(){function t(){}return t.prototype.getMeter=function(t,e,n){return wn},t}());!function(t){t[t.INT=0]="INT",t[t.DOUBLE=1]="DOUBLE"}(hn||(hn={})),function(t){t[t.AGGREGATION_TEMPORALITY_UNSPECIFIED=0]="AGGREGATION_TEMPORALITY_UNSPECIFIED",t[t.AGGREGATION_TEMPORALITY_DELTA=1]="AGGREGATION_TEMPORALITY_DELTA",t[t.AGGREGATION_TEMPORALITY_CUMULATIVE=2]="AGGREGATION_TEMPORALITY_CUMULATIVE"}(dn||(dn={}));var Nn="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof n.g?n.g:{},Rn=Symbol.for("io.opentelemetry.js.api.metrics"),In=Nn;var xn=function(){function t(){}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalMeterProvider=function(t){return In[Rn]?this.getMeterProvider():(In[Rn]=(e=4,n=t,r=An,function(t){return t===e?n:r}),t);var e,n,r},t.prototype.getMeterProvider=function(){var t,e;return null!==(e=null===(t=In[Rn])||void 0===t?void 0:t.call(In,4))&&void 0!==e?e:An},t.prototype.getMeter=function(t,e,n){return this.getMeterProvider().getMeter(t,e,n)},t.prototype.disable=function(){delete In[Rn]},t}(),Dn=xn.getInstance();function Mn(t){void 0===t&&(t=[]);for(var e=[],n=0,r=t.length;n<r;n++){var o=t[n];if(Array.isArray(o)){var i=Mn(o);e=e.concat(i.instrumentations)}else"function"==typeof o?e.push(new o):o.instrumentationName&&e.push(o)}return{instrumentations:e}}function jn(t){var e=Mn(t.instrumentations).instrumentations,n=t.tracerProvider||ht.getTracerProvider(),r=t.meterProvider||Dn.getMeterProvider();return function(t,e,n){for(var r=0,o=t.length;r<o;r++){var i=t[r];e&&i.setTracerProvider(e),n&&i.setMeterProvider(n),i.getConfig().enabled||i.enable()}}(e,n,r),function(){!function(t){t.forEach((function(t){return t.disable()}))}(e)}}var Zn,Bn=n(372),zn=function(){return zn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},zn.apply(this,arguments)},Un=function(){function t(t,e,n){void 0===n&&(n={}),this.instrumentationName=t,this.instrumentationVersion=e,this._wrap=Bn.wrap,this._unwrap=Bn.unwrap,this._massWrap=Bn.massWrap,this._massUnwrap=Bn.massUnwrap,this._config=zn({enabled:!0},n),this._diag=ft.createComponentLogger({namespace:t}),this._tracer=ht.getTracer(t,e),this._meter=Dn.getMeter(t,e)}return Object.defineProperty(t.prototype,"meter",{get:function(){return this._meter},enumerable:!1,configurable:!0}),t.prototype.setMeterProvider=function(t){this._meter=t.getMeter(this.instrumentationName,this.instrumentationVersion)},t.prototype.getConfig=function(){return this._config},t.prototype.setConfig=function(t){void 0===t&&(t={}),this._config=Object.assign({},t)},t.prototype.setTracerProvider=function(t){this._tracer=t.getTracer(this.instrumentationName,this.instrumentationVersion)},Object.defineProperty(t.prototype,"tracer",{get:function(){return this._tracer},enumerable:!1,configurable:!0}),t}(),Fn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gn=function(t){function e(e,n,r){void 0===r&&(r={});var o=t.call(this,e,n,r)||this;return o._config.enabled&&o.enable(),o}return Fn(e,t),e}(Un);function Hn(t){return"function"==typeof t&&"function"==typeof t.__original&&"function"==typeof t.__unwrap&&!0===t.__wrapped}!function(t){t.COMPONENT="component",t.EVENT_TYPE="event_type",t.TARGET_ELEMENT="target_element",t.TARGET_XPATH="target_xpath",t.HTTP_URL="http.url",t.HTTP_USER_AGENT="http.user_agent"}(Zn||(Zn={}));var Vn="0.28.1",Xn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qn=["click"];function Wn(){return!1}var Yn=function(t){function e(e){var n,r=t.call(this,"@opentelemetry/instrumentation-user-interaction",Vn,e)||this;return r.component="user-interaction",r.version=Vn,r.moduleName=r.component,r._spansData=new WeakMap,r._wrappedListeners=new WeakMap,r._eventsSpanMap=new WeakMap,r._eventNames=new Set(null!==(n=null==e?void 0:e.eventNames)&&void 0!==n?n:qn),r._shouldPreventSpanCreation="function"==typeof(null==e?void 0:e.shouldPreventSpanCreation)?e.shouldPreventSpanCreation:Wn,r}return Xn(e,t),e.prototype.init=function(){},e.prototype._checkForTimeout=function(t,e){var n=this._spansData.get(e);n&&("setTimeout"===t.source?n.hrTimeLastTimeout=oe():"Promise.then"!==t.source&&"setTimeout"!==t.source&&(n.hrTimeLastTimeout=void 0))},e.prototype._allowEventName=function(t){return this._eventNames.has(t)},e.prototype._createSpan=function(t,e,n){var r;if(t instanceof HTMLElement&&t.getAttribute&&!t.hasAttribute("disabled")&&this._allowEventName(e)){var o=pn(t,!0);try{var i=this.tracer.startSpan(e,{attributes:(r={},r[Zn.COMPONENT]=this.component,r[Zn.EVENT_TYPE]=e,r[Zn.TARGET_ELEMENT]=t.tagName,r[Zn.TARGET_XPATH]=o,r[Zn.HTTP_URL]=window.location.href,r[Zn.HTTP_USER_AGENT]=navigator.userAgent,r)},n?ht.setSpan(pt.active(),n):void 0);if(!0===this._shouldPreventSpanCreation(e,t,i))return;return this._spansData.set(i,{taskCount:0}),i}catch(t){ft.error(this.component,t)}}},e.prototype._decrementTask=function(t){var e=this._spansData.get(t);e&&(e.taskCount--,0===e.taskCount&&this._tryToEndSpan(t,e.hrTimeLastTimeout))},e.prototype._getCurrentSpan=function(t){var e=t.get("OT_ZONE_CONTEXT");return e?ht.getSpan(e):e},e.prototype._incrementTask=function(t){var e=this._spansData.get(t);e&&e.taskCount++},e.prototype.addPatchedListener=function(t,e,n,r){var o=this._wrappedListeners.get(n);o||(o=new Map,this._wrappedListeners.set(n,o));var i=o.get(e);return i||(i=new Map,o.set(e,i)),!i.has(t)&&(i.set(t,r),!0)},e.prototype.removePatchedListener=function(t,e,n){var r=this._wrappedListeners.get(n);if(r){var o=r.get(e);if(o){var i=o.get(t);return i&&(o.delete(t),0===o.size&&(r.delete(e),0===r.size&&this._wrappedListeners.delete(n))),i}}},e.prototype._invokeListener=function(t,e,n){return"function"==typeof t?t.apply(e,n):t.handleEvent(n[0])},e.prototype._patchAddEventListener=function(){var t=this;return function(e){return function(n,r,o){if(!r)return e.call(this,n,r,o);var i="object"==typeof o&&o.once,a=function(){for(var e,o=this,a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];var c=a[0],u=null==c?void 0:c.target;c&&(e=t._eventsSpanMap.get(c)),i&&t.removePatchedListener(this,n,r);var l=t._createSpan(u,n,e);return l?(c&&t._eventsSpanMap.set(c,l),pt.with(ht.setSpan(pt.active(),l),(function(){var e=t._invokeListener(r,o,a);return l.end(),e}))):t._invokeListener(r,this,a)};return t.addPatchedListener(this,n,r,a)?e.call(this,n,a,o):void 0}}},e.prototype._patchRemoveEventListener=function(){var t=this;return function(e){return function(n,r,o){var i=t.removePatchedListener(this,n,r);return i?e.call(this,n,i,o):e.call(this,n,r,o)}}},e.prototype._getPatchableEventTargets=function(){return window.EventTarget?[EventTarget.prototype]:[Node.prototype,Window.prototype]},e.prototype._patchHistoryApi=function(){this._unpatchHistoryApi(),this._wrap(history,"replaceState",this._patchHistoryMethod()),this._wrap(history,"pushState",this._patchHistoryMethod()),this._wrap(history,"back",this._patchHistoryMethod()),this._wrap(history,"forward",this._patchHistoryMethod()),this._wrap(history,"go",this._patchHistoryMethod())},e.prototype._patchHistoryMethod=function(){var t=this;return function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=""+location.pathname+location.hash+location.search,i=e.apply(this,n),a=""+location.pathname+location.hash+location.search;return o!==a&&t._updateInteractionName(a),i}}},e.prototype._unpatchHistoryApi=function(){Hn(history.replaceState)&&this._unwrap(history,"replaceState"),Hn(history.pushState)&&this._unwrap(history,"pushState"),Hn(history.back)&&this._unwrap(history,"back"),Hn(history.forward)&&this._unwrap(history,"forward"),Hn(history.go)&&this._unwrap(history,"go")},e.prototype._updateInteractionName=function(t){var e=ht.getSpan(pt.active());e&&"function"==typeof e.updateName&&e.updateName("Navigation: "+t)},e.prototype._patchZoneCancelTask=function(){var t=this;return function(e){return function(n){var r=Zone.current,o=t._getCurrentSpan(r);return o&&t._shouldCountTask(n,r)&&t._decrementTask(o),e.call(this,n)}}},e.prototype._patchZoneScheduleTask=function(){var t=this;return function(e){return function(n){var r=Zone.current,o=t._getCurrentSpan(r);return o&&t._shouldCountTask(n,r)&&(t._incrementTask(o),t._checkForTimeout(n,o)),e.call(this,n)}}},e.prototype._patchZoneRunTask=function(){var t=this;return function(e){return function(n,r,o){var i,a=Array.isArray(o)&&o[0]instanceof Event?o[0]:void 0,s=null==a?void 0:a.target,c=this;if(s){if(i=t._createSpan(s,n.eventName))return t._incrementTask(i),c.run((function(){try{return pt.with(ht.setSpan(pt.active(),i),(function(){var t=Zone.current;return n._zone=t,e.call(t,n,r,o)}))}finally{t._decrementTask(i)}}))}else i=t._getCurrentSpan(c);try{return e.call(c,n,r,o)}finally{i&&t._shouldCountTask(n,c)&&t._decrementTask(i)}}}},e.prototype._shouldCountTask=function(t,e){if(t._zone&&(e=t._zone),!e||!t.data||t.data.isPeriodic)return!1;var n=this._getCurrentSpan(e);return!!n&&(!!this._spansData.get(n)&&("macroTask"===t.type||"microTask"===t.type))},e.prototype._tryToEndSpan=function(t,e){t&&(this._spansData.get(t)&&(t.end(e),this._spansData.delete(t)))},e.prototype.enable=function(){var t=this,e=this.getZoneWithPrototype();(ft.debug("applying patch to",this.moduleName,this.version,"zone:",!!e),e)?(Hn(e.prototype.runTask)&&(this._unwrap(e.prototype,"runTask"),ft.debug("removing previous patch from method runTask")),Hn(e.prototype.scheduleTask)&&(this._unwrap(e.prototype,"scheduleTask"),ft.debug("removing previous patch from method scheduleTask")),Hn(e.prototype.cancelTask)&&(this._unwrap(e.prototype,"cancelTask"),ft.debug("removing previous patch from method cancelTask")),this._zonePatched=!0,this._wrap(e.prototype,"runTask",this._patchZoneRunTask()),this._wrap(e.prototype,"scheduleTask",this._patchZoneScheduleTask()),this._wrap(e.prototype,"cancelTask",this._patchZoneCancelTask())):(this._zonePatched=!1,this._getPatchableEventTargets().forEach((function(e){Hn(e.addEventListener)&&(t._unwrap(e,"addEventListener"),ft.debug("removing previous patch from method addEventListener")),Hn(e.removeEventListener)&&(t._unwrap(e,"removeEventListener"),ft.debug("removing previous patch from method removeEventListener")),t._wrap(e,"addEventListener",t._patchAddEventListener()),t._wrap(e,"removeEventListener",t._patchRemoveEventListener())})));this._patchHistoryApi()},e.prototype.disable=function(){var t=this,e=this.getZoneWithPrototype();(ft.debug("removing patch from",this.moduleName,this.version,"zone:",!!e),e&&this._zonePatched)?(Hn(e.prototype.runTask)&&this._unwrap(e.prototype,"runTask"),Hn(e.prototype.scheduleTask)&&this._unwrap(e.prototype,"scheduleTask"),Hn(e.prototype.cancelTask)&&this._unwrap(e.prototype,"cancelTask")):this._getPatchableEventTargets().forEach((function(e){Hn(e.addEventListener)&&t._unwrap(e,"addEventListener"),Hn(e.removeEventListener)&&t._unwrap(e,"removeEventListener")}));this._unpatchHistoryApi()},e.prototype.getZoneWithPrototype=function(){return window.Zone},e}(Gn);class $n{nextStep;block;clickButton;nextFunc;constructor(){this.clickButton=document.createElement("button"),this.clickButton.textContent="Done"}setNextStep(t){this.nextStep=t}setNextFunction(t){this.nextFunc=t}bindClickButton(t){this.clickButton.onclick=()=>{t()}}start(){this.bindClickButton(this.end.bind(this)),this.display()}destroy(){this.block.remove(),$n.removeLightbox()}buildBlock(){}display(){this.buildBlock(),$n.createLightbox(),this.block&&document.body.appendChild(this.block)}end(){this.destroy(),this.nextFunc&&this.nextFunc(),this.nextStep&&this.nextStep.start()}static removeLightbox(){const t=document.getElementById("lightbox_background");t.parentNode.removeChild(t)}static createLightbox(){const t=document.createElement("div");t.id="lightbox_background";const e=document.createElement("div");return e.id="lightbox",document.body.appendChild(t),t.appendChild(e),t}}const Kn=$n;const Qn=class extends Kn{postSurvey;constructor(t){super(),this.postSurvey=t,this.clickButton.textContent="Complete"}buildQuestionBlock(t){const{description:e,isRequired:n,options:r}=t,o=document.createElement("div");o.textContent=e,n&&(o.textContent+="*");const i=document.createElement("select");for(const t of r){const e=document.createElement("option");e.value=t,e.textContent=t,i.appendChild(e)}const a=document.createElement("div");return a.appendChild(o),a.appendChild(i),a}buildBlock(){const t=document.createElement("div"),e=document.createElement("div"),n=document.createElement("div");n.textContent=this.postSurvey.title;for(const t of this.postSurvey.questions){const n=this.buildQuestionBlock(t);e.appendChild(n)}t.appendChild(n),t.appendChild(e),t.appendChild(this.clickButton),t.setAttribute("style","\n    z-index: 9999999;\n    position: fixed;\n    background: white;\n    top: 40%;\n    width: 100%;"),this.block=t}};function Jn(){return localStorage.getItem("currentTask")?parseInt(localStorage.getItem("currentTask")||"-1"):-1}const tr=class extends Kn{tasks=[];constructor(t){super(),this.tasks=t}promptTask(t){const e=Kn.createLightbox(),n=this.tasks[t-1],r=document.createElement("span");r.onclick=this.beginTask.bind(this),r.textContent="Begin Task";const o=this.newTaskBlock({taskNum:t,button:r,...n});e.appendChild(o)}display(){localStorage.setItem("currentTask","1"),this.promptTask(parseInt(localStorage.getItem("currentTask")||"-1"))}start(){this.display()}endTask(t){!function(){const t=new XMLHttpRequest;t.open("POST","http://localhost:80/task-end",!0),t.setRequestHeader("Access-Control-Allow-Origin","*"),t.send()}(),t.parentNode.removeChild(t);const e=Jn()+1;e<=this.tasks.length?(localStorage.setItem("currentTask",e.toString()),this.promptTask(Jn())):this.end()}loadTaskComponents(){const t=document.createElement("div");t.className="during-task-block";const e=document.createElement("div");e.className="task-help",e.textContent="?",e.onclick=()=>this.promptHelp(Jn());const n=document.createElement("div");n.className="finish-task-button",n.textContent="Finish Task",n.onclick=()=>{window.confirm("Are you sure you want to finish this task?")&&this.endTask(t)},t.appendChild(e),t.appendChild(n),document.body.appendChild(t)}beginTask(){Kn.removeLightbox(),function(){const t=new XMLHttpRequest;t.open("POST","http://localhost:80/task-start",!0),t.setRequestHeader("Access-Control-Allow-Origin","*"),t.send()}(),this.loadTaskComponents()}newTaskBlock({taskNum:t,taskTitle:e,scenario:n,taskDesc:r,button:o}){const i=document.createElement("div");i.className="task-block";const a=document.createElement("div"),s=document.createElement("div"),c=document.createElement("div");s.textContent=`Task ${t} out of ${this.tasks.length}`,c.textContent=e,a.className="task-block-header",a.appendChild(s),a.appendChild(c);const u=document.createElement("p");u.innerHTML=`You are about begin task ${t} of the usability study<br/><br/>     <u>Scenario</u>: ${n}<br/><br/>     <u>Task:</u> ${r}<br/><br/>     Please click on <b>Begin Task</b> to start the task, and click on <b>Finish Task</b> button to end the task.<br/><br/>     (If you want to view the task descriptions again during the test, click on <b>?</b> button.)`;const l=document.createElement("div");l.className="task-block-center",l.appendChild(u);const p=document.createElement("div");return p.className="task-block-footer",p.appendChild(o),i.appendChild(a),i.appendChild(l),i.appendChild(p),i}promptHelp(t){const e=Kn.createLightbox(),n=this.tasks[t-1],r=document.createElement("span");r.onclick=Kn.removeLightbox,r.textContent="Return";const o=this.newTaskBlock({taskNum:t,button:r,...n});e.appendChild(o)}};const er=class extends Kn{preSurvey;constructor(t){super(),this.preSurvey=t,this.clickButton.textContent="Complete"}buildQuestionBlock(t){const{description:e,isRequired:n,options:r}=t,o=document.createElement("div");o.textContent=e,n&&(o.textContent+="*");const i=document.createElement("div");for(const t of r){const e=document.createElement("input");e.type="radio",e.value=t;const n=document.createElement("label");n.textContent=t;const r=document.createElement("br"),o=document.createElement("div");o.appendChild(e),o.appendChild(n),o.appendChild(r),i.appendChild(o)}const a=document.createElement("div");return a.appendChild(o),a.appendChild(i),a}buildBlock(){const t=document.createElement("div"),e=document.createElement("div"),n=document.createElement("div");n.textContent=this.preSurvey.title;for(const t of this.preSurvey.questions){const n=this.buildQuestionBlock(t);e.appendChild(n)}t.appendChild(n),t.appendChild(e),t.appendChild(this.clickButton),t.setAttribute("style","\n    z-index: 9999999;\n    position: fixed;\n    background: white;\n    top: 40%;\n    width: 100%;"),this.block=t}};const nr=class extends Kn{intro;constructor(t){super(),this.intro=t,this.clickButton.textContent="Begin"}buildBlock(){const t=document.createElement("div"),e=document.createElement("div");e.textContent=this.intro.description;const n=document.createElement("div");n.textContent=this.intro.title,t.appendChild(n),t.appendChild(e),t.appendChild(this.clickButton),t.setAttribute("style","\n    z-index: 9999999;\n    position: fixed;\n    background: white;\n    top: 40%;\n    width: 100%;"),this.block=t}};const rr=class extends Kn{constructor(){super(),this.clickButton.textContent="Complete"}buildBlock(){const t=document.createElement("div");t.textContent="Thank you for participating!";const e=document.createElement("div");e.textContent="Please provide any additional comments you would like to share. If you would like to be contacted in the future with the study results, please leave your e-mail address.";const n=document.createElement("textarea"),r=document.createElement("div");r.appendChild(t),r.appendChild(e),r.appendChild(n),r.appendChild(this.clickButton),r.setAttribute("style","\n    z-index: 9999999;\n    position: fixed;\n    background: white;\n    top: 40%;\n    width: 100%;"),this.block=r}};class or extends Gn{component="alert";version=Ht;moduleName=this.component;defaultAlert=void 0;constructor(){super("alert-instrumentation",Ht,{})}enable(){this._diag.debug("applying patch to",this.moduleName,this.version);const t=t=>e=>{const n=this.tracer.startSpan(this.component,{attributes:{event_type:this.component,alert_message:e,"http.url":window.location.href,"http.user_agent":navigator.userAgent,alert_status:"start"}});n.end(),t&&t(e);this.tracer.startSpan(this.component,{attributes:{event_type:this.component,alert_message:e,"http.url":window.location.href,"http.user_agent":navigator.userAgent,alert_status:"end"}},ht.setSpan(pt.active(),n)).end()};this.defaultAlert||(this.defaultAlert=alert,window.alert=t(this.defaultAlert))}disable(){window.alert=this.defaultAlert,this.defaultAlert=void 0}isEnabled(){return!!this.defaultAlert}}class ir extends Gn{component="js-error";version=Ht;moduleName=this.component;defaultOnError=void 0;constructor(){super("js-error-instrumentation",Ht,{})}enable(){this._diag.debug("applying patch to",this.moduleName,this.version);const t=t=>(e,n,r,o,i)=>{this.tracer.startSpan(this.component,{attributes:{event_type:this.component,error_message:e,error_source:n,error_lineno:r,error_colno:o,error:i?i.toString():void 0,"http.url":window.location.href,"http.user_agent":navigator.userAgent}}).end(),t&&t(e,n,r,o,i)};this.defaultOnError||(this.defaultOnError=onerror,window.onerror=t(this.defaultOnError))}disable(){window.onerror=this.defaultOnError,this.defaultOnError=void 0}isEnabled(){return!!this.defaultOnError}}const ar=class{steps=[];displayFinished(){const t=document.createElement("div");t.textContent="Finishing Up";const e=document.createElement("div");e.textContent="Thank you for participating!";const n=document.createElement("div");n.appendChild(t),n.appendChild(e),n.setAttribute("style","\n    z-index: 9999999;\n    position: fixed;\n    background: white;\n    top: 40%;\n    width: 100%;"),Kn.createLightbox(),document.body.appendChild(n)}constructor(t){const e=new Qn(t.postSurvey),n=new tr(t.tasks),r=new er(t.preSurvey),o=new nr(t.intro),i=new rr;this.steps=[o,r,n,e,i];for(let t=0;t<this.steps.length;t+=1)t<this.steps.length-1?this.steps[t].setNextStep(this.steps[t+1]):this.steps[t].setNextFunction(this.displayFinished)}launch(){this.steps[0].start();const t=new ln;t.addSpanProcessor(new an(new on)),t.register({contextManager:new _n}),jn({instrumentations:[new or,new ir,new Yn({eventNames:["click","error"]})]})}},sr={intro:{title:"Welcome to BenevolveBuddy Usability Study",description:"You are going to participate in a usability study for BenevolveBuddy application. We are studying how machine learning can be leveraged to infer the usability of an application. You can help us by participating in a usability testing activity. It will take only a few minutes. You will be using an app meant for volunteers interested in helping out individuals in need. Volunteers can deliver essentials to people who cannot get out of their homes. You will go through the activity by performing 4 tasks. After each task, you will take a short survey. Please click on Begin button when you are ready."},preSurvey:{title:"Welcome to Stackoverflow Usability Study",questions:[{description:"Please select your gender",type:"select",isRequired:!0,options:["Male","Female","Non-binary","Prefer not to disclose"]},{description:"Please select your age group",type:"select",isRequired:!0,options:["Under 18","18 to 24","25 to 39","40 to 59","Over 60"]},{description:"Participation in this usability study is voluntary. All information will remain strictly confidential. Interactions made with the application during the test will be recorded. However, at no time will your name or any other identification be used.",type:"checkbox",isRequired:!0,options:["I have read and understood the above information."]}]},tasks:[{taskTitle:"Fill in Availability (StackOverflow)",scenario:"You are a healthy volunteer with no medical conditions who wants to help with some existing requests.",taskDesc:"Use the app to provide the time slots that you're available for volunteering."},{taskTitle:"Fill in Availability (StackOverflow)",scenario:"You are a healthy volunteer with no medical conditions who wants to help with some existing requests.",taskDesc:"Use the app to provide the time slots that you're available for volunteering."}],postSurvey:{title:"Usability Survey Questions",questions:[{description:"PI was able to copmlete the tasks with a reasonable number of steps.",type:"drop-down",isRequired:!0,options:["Strongly Disagree","Disagree","Indifferent","Agree","Strongly Agree"]},{description:"PI was able to copmlete the tasks with a reasonable number of steps.",type:"drop-down",isRequired:!0,options:["Strongly Disagree","Disagree","Indifferent","Agree","Strongly Agree"]}]}},cr="lightbox-css-id";if(!document.getElementById(cr)){const t=document.getElementsByTagName("head")[0],e=document.createElement("link");e.id=cr,e.rel="stylesheet",e.type="text/css",e.href="http://localhost:8000/lightbox.css",e.media="all",t.appendChild(e)}new ar(sr).launch()})()})();